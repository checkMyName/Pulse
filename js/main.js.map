{"version":3,"file":"main.js","mappings":"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UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEhDA;UACA;UACA;UACA;UACA","sources":["webpack://gulp4template/./src/js/classes/Component.js","webpack://gulp4template/./src/js/classes/Model.js","webpack://gulp4template/./src/js/classes/Page.js","webpack://gulp4template/./src/js/components/bootstrap.js","webpack://gulp4template/./src/js/components/fixedHeader.js","webpack://gulp4template/./src/js/components/formValidation.js","webpack://gulp4template/./src/js/components/lazyLoad.js","webpack://gulp4template/./src/js/components/modal/index.js","webpack://gulp4template/./src/js/components/modal/notify/index.js","webpack://gulp4template/./src/js/components/modal/notify/templates.js","webpack://gulp4template/./src/js/components/plansSlider.js","webpack://gulp4template/./src/js/components/procedureSlider.js","webpack://gulp4template/./src/js/components/selectDropdown.js","webpack://gulp4template/./src/js/components/siteMenu.js","webpack://gulp4template/./src/js/components/siteScrollProgressBar.js","webpack://gulp4template/./src/js/components/siteSearch.js","webpack://gulp4template/./src/js/components/smartScroll.js","webpack://gulp4template/./src/js/components/toasts/Toastify.js","webpack://gulp4template/./src/js/components/toasts/index.js","webpack://gulp4template/./src/js/helpers/_service.js","webpack://gulp4template/./src/js/helpers/_utilities.js","webpack://gulp4template/./src/js/helpers/data.js","webpack://gulp4template/./src/js/helpers/dom.js","webpack://gulp4template/./src/js/helpers/events.js","webpack://gulp4template/./src/js/helpers/style.js","webpack://gulp4template/./src/js/helpers/ui.js","webpack://gulp4template/./src/js/main.js","webpack://gulp4template/./src/js/modules/run.js","webpack://gulp4template/./src/js/pages/home.js","webpack://gulp4template/./src/js/pages/regular.js","webpack://gulp4template/./src/js/variables.js","webpack://gulp4template/webpack/bootstrap","webpack://gulp4template/webpack/runtime/chunk loaded","webpack://gulp4template/webpack/runtime/define property getters","webpack://gulp4template/webpack/runtime/global","webpack://gulp4template/webpack/runtime/hasOwnProperty shorthand","webpack://gulp4template/webpack/runtime/make namespace object","webpack://gulp4template/webpack/runtime/node module decorator","webpack://gulp4template/webpack/runtime/jsonp chunk loading","webpack://gulp4template/webpack/before-startup","webpack://gulp4template/webpack/startup","webpack://gulp4template/webpack/after-startup"],"sourcesContent":["import Model from './Model';\r\nimport {$data} from '../helpers/data';\r\nimport {$dom} from '../helpers/dom';\r\nimport is from 'is_js';\r\n\r\nconst {merge} = $data;\r\nconst {exist} = $dom;\r\n\r\nexport default class Component extends Model {\r\n  constructor(options) {\r\n    super(options);\r\n\r\n    this.defaults = {\r\n      requiredSelector: null\r\n    };\r\n\r\n    this.options = merge(this.defaults, options);\r\n  }\r\n\r\n  get initialized() {\r\n    return exist(this.options.requiredSelector)\r\n      ||\r\n      is.undefined(this.options.requiredSelector)\r\n      ||\r\n      (is.function(this.options.requiredSelector) && this.options.requiredSelector() === true)\r\n  }\r\n\r\n  init() {\r\n    if (this.initialized) super.init();\r\n  }\r\n  destroy() {\r\n    if (this.initialized) super.destroy();\r\n  }\r\n}\r\n","import is from 'is_js';\r\nimport {$data} from '../helpers/data';\r\nimport {isElement} from '../helpers/_utilities';\r\n\r\nconst {merge} = $data;\r\n\r\nexport default class Model {\r\n  constructor(options = {}) {\r\n    this.defaults = {\r\n      onCreate: null,\r\n      onInit: null,\r\n      onDestroy: null,\r\n      name: null,\r\n      rootElementId: null,\r\n      debug: true\r\n    };\r\n\r\n    this.options = merge(this.defaults, options);\r\n    this.name = options.name;\r\n    this.rootElement = this.rootEl;\r\n\r\n    this.checkAndRunCallback(this.options.onCreate);\r\n  }\r\n\r\n  get rootEl() {\r\n    const\r\n      {rootElementId} = this.options,\r\n      el = document.getElementById(rootElementId)\r\n    ;\r\n\r\n    if (is.string(rootElementId) && Boolean(rootElementId) && isElement(el)) return el;\r\n\r\n    return null\r\n  }\r\n\r\n  checkAndRunCallback(cb) {\r\n    if (is.function(cb)) cb.call(this, this);\r\n    return this;\r\n  };\r\n\r\n  init() {\r\n    this.checkAndRunCallback(this.options.onInit);\r\n  }\r\n  destroy() {\r\n    this.checkAndRunCallback(this.options.onDestroy);\r\n  }\r\n\r\n  update() {\r\n    this.destroy();\r\n    this.init();\r\n  }\r\n}\r\n","import { forIn, generateId, warn } from '../helpers/_utilities';\r\nimport { $data } from '../helpers/data';\r\nimport is from 'is_js';\r\nimport { $events } from '../helpers/events';\r\nimport Model from './Model';\r\nimport { lazyLoad } from '../components/lazyLoad';\r\nimport Component from './Component';\r\nimport { formValidation } from '../components/formValidation';\r\nimport modal from '../components/modal';\r\nimport toasts from '../components/toasts';\r\nimport variables from '../variables';\r\nimport selectDropdown from '../components/selectDropdown';\r\nimport { fixedHeader } from '../components/fixedHeader';\r\nimport { siteMenu } from '../components/siteMenu';\r\nimport { smartScroll } from '../components/smartScroll';\r\nimport { procedureSlider } from '../components/procedureSlider';\r\nimport { plansSlider } from '../components/plansSlider';\r\nimport { siteScrollProgressBar } from '../components/siteScrollProgressBar'\r\nimport { siteSearch } from '../components/siteSearch'\r\n\r\n\r\nconst { merge } = $data;\r\nconst { globalSettingsAttrName } = variables;\r\n\r\nexport default class Page extends Model {\r\n  #components = {};\r\n\r\n  constructor(options) {\r\n    super(options);\r\n\r\n    this.initialized = true;\r\n\r\n    if (is.not.domNode(this.rootElement)) {\r\n      if (this.options.debug) {\r\n        warn(`Instance Page with name \"${this.name}\" has no root element provided`, 'Class Page');\r\n      }\r\n      this.initialized = false;\r\n      return;\r\n    }\r\n\r\n    this.defaults = {\r\n      resizeMethods: [],\r\n    };\r\n\r\n    this.options = merge(this.defaults, options);\r\n\r\n    this[globalSettingsAttrName] = this.rootEl.dataset[globalSettingsAttrName]\r\n      && JSON.parse(this.rootEl.dataset[globalSettingsAttrName]);\r\n\r\n    if (is.undefined(this[globalSettingsAttrName])) {\r\n      warn(`Global settings is not provided to root element as \"data-${globalSettingsAttrName}\" attribute`, 'Class Page')\r\n    } else {\r\n      this.rootEl.removeAttribute(`data-${globalSettingsAttrName}`);\r\n    }\r\n\r\n    this\r\n      .addComponent(lazyLoad, [50, 'data-error'])\r\n      .addComponent(formValidation)\r\n      .addComponent(modal)\r\n      .addComponent(toasts)\r\n      .addComponent(selectDropdown)\r\n      .addComponent(fixedHeader)\r\n      .addComponent(siteMenu)\r\n      .addComponent(smartScroll)\r\n      .addComponent(procedureSlider)\r\n      .addComponent(plansSlider)\r\n      .addComponent(siteScrollProgressBar)\r\n      .addComponent(siteSearch)\r\n      ;\r\n  }\r\n\r\n  addComponent(fn, initialArgs = []) {\r\n    if (is.function(fn)) {\r\n\r\n      const component = fn.call(this, ...initialArgs);\r\n\r\n      if (component instanceof Component) this.#components[component.name] = component;\r\n\r\n    }\r\n    return this;\r\n  }\r\n\r\n  processComponents(action, components = this.#components) {\r\n    forIn(components, (key, component) => {\r\n      if (is.undefined(this[key])) this[key] = component;\r\n\r\n      if (is.function(component[action])) {\r\n        component[action]()\r\n      }\r\n    })\r\n  }\r\n\r\n  processResizeMethod(action, method) {\r\n    switch (action) {\r\n      case 'add':\r\n        method.call(this);\r\n        $events.resize('on', method);\r\n        break;\r\n\r\n      case 'remove':\r\n        $events.resize('off', method);\r\n        break;\r\n    }\r\n  }\r\n\r\n  resizeDependentMethods(action) {\r\n    this.options.resizeMethods = this.options.resizeMethods.map(target => {\r\n\r\n      if (is.function(target)) {\r\n        this.processResizeMethod(action, target);\r\n\r\n        if (action === 'add') {\r\n          const fnName = Boolean(target.name) ? target.name : generateId();\r\n\r\n          return {\r\n            [fnName]: target,\r\n            processed: true\r\n          }\r\n        }\r\n\r\n        return {}\r\n      } else {\r\n        return action === 'add' ? target : {};\r\n      }\r\n    });\r\n  }\r\n\r\n  addResizeDependMethod(method) {\r\n\r\n    this.options.resizeMethods = [...this.options.resizeMethods, method];\r\n\r\n    this.resizeDependentMethods('add');\r\n  }\r\n\r\n  removeResizeDependMethod(method) {\r\n\r\n    if (Boolean(method.name)) {\r\n      const target = this.options.resizeMethods.find(obj => {\r\n        return obj.hasOwnProperty(method.name) && is.function(obj[method.name])\r\n      });\r\n\r\n      if (Boolean(target) && target.processed && is.function(target[method.name])) {\r\n        this.processResizeMethod('remove', method);\r\n        this.options.resizeMethods = this.options.resizeMethods.filter(m => m !== target);\r\n      } else {\r\n        warn('Required method not found!', 'Page class, removeResizeDependMethod')\r\n      }\r\n    } else {\r\n      warn('When deleting a resize depend method please use named functions', 'Page class, removeResizeDependMethod')\r\n    }\r\n  }\r\n\r\n  init() {\r\n    this.processComponents('init');\r\n    this.resizeDependentMethods('add');\r\n\r\n    super.init(this);\r\n    return this;\r\n  }\r\n\r\n  destroy() {\r\n    this.processComponents('destroy');\r\n    this.resizeDependentMethods('remove');\r\n\r\n    this.initialized = false;\r\n\r\n    super.destroy(this);\r\n    return this;\r\n  }\r\n}\r\n","import Offcanvas from 'bootstrap/js/dist/offcanvas';\r\nimport Collapse from 'bootstrap/js/dist/collapse';\r\nimport Dropdown from 'bootstrap/js/dist/dropdown';\r\nimport Modal from 'bootstrap/js/dist/modal';\r\n\r\nexport const BootstrapOffcanvas = Offcanvas;\r\n\r\nexport default {\r\n  Offcanvas,\r\n  Collapse,\r\n  Dropdown,\r\n  Modal\r\n}\r\n\r\n","import Component from '../classes/Component';\r\nimport { $dom } from '../helpers/dom';\r\nimport { $events } from '../helpers/events';\r\nimport variables from '../variables';\r\n\r\nconst { header } = variables.dom;\r\nconst { hasClass, addClass, removeClass } = $dom;\r\nconst headerHideClassName = 'header--hide';\r\nconst headerPaintClassName = 'header--paint';\r\n\r\nexport function fixedHeader(\r\n  rootSelector = '#js-header'\r\n) {\r\n\r\n  let lastScroll = 0,\r\n    defaultOffset = 100;\r\n\r\n  const handleScroll = () => {\r\n\r\n    const scrollPosition = window.pageYOffset || document.documentElement.scrollTop;\r\n\r\n    if (scrollPosition > lastScroll && !(hasClass(header, headerHideClassName)) && scrollPosition > defaultOffset) {\r\n\r\n      addClass(header, headerHideClassName);\r\n      addClass(header, headerPaintClassName);\r\n\r\n    } else if (scrollPosition < lastScroll && hasClass(header, headerHideClassName)) {\r\n\r\n      removeClass(header, headerHideClassName);\r\n\r\n    } else if (scrollPosition < defaultOffset) {\r\n\r\n      removeClass(header, headerPaintClassName);\r\n    \r\n    }\r\n    lastScroll = scrollPosition;\r\n  }\r\n\r\n  return new Component({\r\n    name: 'fixedHeader',\r\n    requiredSelector: rootSelector,\r\n    \r\n    onInit() {\r\n      handleScroll();\r\n      $events.add('scroll', window, handleScroll);\r\n    },\r\n    onDestroy() {\r\n      $events.remove('scroll', window, handleScroll);\r\n    },\r\n  });\r\n}\r\n","import Component from '../classes/Component';\r\nimport {$dom} from '../helpers/dom';\r\nimport {$events} from '../helpers/events';\r\nimport variables from '../variables';\r\nimport FormValidator from '@yaireo/validator'\r\nimport {isElement} from '../helpers/_utilities';\r\n\r\nconst {\r\n  callAll,\r\n  attr,\r\n  get,\r\n  remove,\r\n  addClass,\r\n  removeClass,\r\n  exist\r\n} = $dom;\r\n\r\nconst {formValidationMessages} = variables;\r\n\r\nexport function formValidation(\r\n  formSelector = '.js-form-validate',\r\n  formGroupSelector = '.js-group-validate',\r\n  formFieldSelector = '.js-field-validate',\r\n  notifyClassName = 'form__group-notify',\r\n  needValidateClassName = 'is-need-validate'\r\n) {\r\n\r\n  return new Component({\r\n    name: 'formValidation',\r\n    requiredSelector: formSelector,\r\n    onCreate() {\r\n      this.validator = null;\r\n    },\r\n    onInit() {\r\n\r\n      this.validator = new FormValidator({\r\n        classes: {\r\n          item: formGroupSelector.replace('.', ''),\r\n          bad: variables.classNames.invalid,\r\n          alert: notifyClassName\r\n        },\r\n        texts: formValidationMessages\r\n      });\r\n\r\n      attr(formSelector, 'novalidate', '');\r\n\r\n      this.checkField = formGroup => {\r\n        if (formGroup instanceof Event) {\r\n          const {target} = formGroup;\r\n\r\n          if (isElement(target)) formGroup = target.closest(formGroupSelector)\r\n        }\r\n\r\n        const field = get(formFieldSelector, formGroup);\r\n\r\n        if (isElement(field)) {\r\n          const {valid, error} = this.validator.checkField(field);\r\n        }\r\n      };\r\n\r\n      this.handleForm = event => {\r\n        const form = event.target.closest(formSelector);\r\n\r\n        event.preventDefault();\r\n\r\n        callAll(formGroupSelector, this.checkField, form);\r\n        if (!this.validator.checkAll(form).valid) event.preventDefault();\r\n      };\r\n\r\n      callAll(formGroupSelector, el => addClass(el, needValidateClassName));\r\n\r\n      $events\r\n        .add('focus blur', formFieldSelector, this.checkField)\r\n        .delegate\r\n        .on('submit', formSelector, this.handleForm)\r\n        .on('input change', formGroupSelector, this.checkField)\r\n      ;\r\n    },\r\n    onDestroy() {\r\n      this.validator = null;\r\n\r\n      callAll(formSelector, form => {\r\n        form.removeAttribute('novalidate');\r\n        if (exist(formGroupSelector, form)) callAll(formGroupSelector, el => removeClass(el, needValidateClassName), form);\r\n        if (exist('.'+notifyClassName, form)) callAll('.'+notifyClassName, el => remove(el), form);\r\n      });\r\n\r\n\r\n      $events\r\n        .remove('focus blur', formFieldSelector, this.checkField)\r\n        .delegate\r\n        .off('submit', formSelector, this.handleForm)\r\n        .off('input change', formGroupSelector, this.checkField)\r\n      ;\r\n    },\r\n  })\r\n}","import LazyLoad from 'vanilla-lazyload';\r\nimport Component from '../classes/Component';\r\nimport variables from '../variables';\r\nimport {isElement} from '../helpers/_utilities';\r\nimport {$dom} from '../helpers/dom';\r\n\r\nconst {\r\n  lazyLoaded,\r\n  error\r\n} = variables.classNames;\r\n\r\nconst {\r\n  get,\r\n  attr\r\n} = $dom;\r\n\r\nexport function lazyLoad(\r\n  threshold = 0,\r\n  errorAttr = 'data-error',\r\n  wrapperSelector = '.js-lazy-image',\r\n  elements_selector = '.js-lazy-image-element',\r\n  loaderSelector = '.js-lazy-image-loader',\r\n) {\r\n\r\n  return new Component({\r\n    name: 'lazyLoad',\r\n    requiredSelector: elements_selector,\r\n    onCreate() {\r\n      this.lazyInstance = null\r\n    },\r\n    onInit() {\r\n      this.lazyInstance = new LazyLoad({\r\n        threshold,\r\n        elements_selector: elements_selector,\r\n        class_loaded: lazyLoaded,\r\n        class_error: error,\r\n        data_src: 'lazy-src',\r\n        data_bg: 'lazy-bg',\r\n        callback_loaded(el) {\r\n          const wrapper = el.closest(wrapperSelector);\r\n          el.removeAttribute(errorAttr);\r\n\r\n          if (isElement(wrapper)) {\r\n            const preloader = get(loaderSelector, wrapper);\r\n            if (isElement(preloader)) preloader.remove()\r\n          }\r\n        },\r\n        callback_error(el) {\r\n          attr(el, errorAttr, variables.messages.lazyError);\r\n          el.style.opacity = '1';\r\n        }\r\n      });\r\n    },\r\n    onDestroy() {\r\n      if (this.lazyInstance instanceof LazyLoad) {\r\n        this.lazyInstance.destroy();\r\n        this.lazyInstance = null\r\n      }\r\n    }\r\n  })\r\n}","import Component from '../../classes/Component';\r\nimport {$dom} from '../../helpers/dom';\r\nimport is from 'is_js';\r\nimport {forIn, generateId, warn} from '../../helpers/_utilities';\r\nimport bootstrapComponents from '../bootstrap'\r\nimport notify from './notify'\r\n\r\nconst {\r\n  get,\r\n  exist,\r\n  callAll\r\n} = $dom;\r\n\r\nconst {Modal} = bootstrapComponents;\r\n\r\nexport default function modal(\r\n  modalSelector = '.js-modal'\r\n) {\r\n\r\n  const $Page = this;\r\n\r\n  return new Component({\r\n    name: 'modal',\r\n    requiredSelector: undefined,\r\n    onCreate() {\r\n      this.modals = {};\r\n    },\r\n    onInit() {\r\n\r\n      this.modalIsCashed = modalId => this.modals.hasOwnProperty(modalId);\r\n\r\n      this.checkElementExist = (id, cb = null) => {\r\n        if (exist('#'+id)) {\r\n          if (is.function(cb)) {\r\n            cb(get('#'+id))\r\n          }\r\n        } else {\r\n          warn(`Modal element by id \"${id}\" is not found`, 'Modal Component')\r\n        }\r\n      };\r\n\r\n      this.open = id => {\r\n        this.checkElementExist(id, elem => {\r\n          if (this.modalIsCashed(elem.modalId))\r\n            this.modals[elem.modalId].show()\r\n        })\r\n      };\r\n\r\n      this.close = (id = null) => {\r\n        if (is.null(id)) {\r\n          forIn(this.modals, (_, modal) => modal.hide())\r\n        } else {\r\n          this.checkElementExist(id, elem => {\r\n            if (this.modalIsCashed(elem.modalId))\r\n              this.modals[elem.modalId].hide()\r\n          })\r\n        }\r\n      };\r\n\r\n      this.notify = notify.call($Page);\r\n\r\n      if (exist(modalSelector)) {\r\n        callAll(modalSelector, modalEl => {\r\n          modalEl.modalId = generateId();\r\n\r\n          this.modals[modalEl.modalId] = new Modal(modalEl);\r\n        });\r\n      }\r\n\r\n\r\n      this.notify.addListeners();\r\n    },\r\n    onDestroy() {\r\n\r\n      this.close();\r\n      this.notify.removeListeners();\r\n      this.modals = {};\r\n\r\n      this.open = Function.prototype;\r\n      this.close = Function.prototype;\r\n    },\r\n  })\r\n}","import templates from './templates';\r\nimport {generateId} from '../../../helpers/_utilities';\r\nimport {$dom} from '../../../helpers/dom';\r\nimport bootstrapComponents from '../../bootstrap'\r\nimport is from 'is_js';\r\nimport {$data} from '../../../helpers/data';\r\nimport {$events} from '../../../helpers/events';\r\nimport variables from '../../../variables';\r\n\r\nconst {Modal} = bootstrapComponents;\r\n\r\nconst {append, get, createElement, text, createElementFromString, remove, hasClass} = $dom;\r\n\r\nconst {globalSettingsAttrName} = variables;\r\n\r\nexport default function (opts = {\r\n  embedPoint: document.body,\r\n  closeText: 'Закрыть',\r\n  closeIcon: 'close'\r\n}) {\r\n\r\n  let currentModal = null;\r\n  const $Page = this;\r\n\r\n  let\r\n    show = (p = {}) => {\r\n      if (!$Page.initialized) return currentModal;\r\n\r\n      const defaults = {\r\n        title: {\r\n          tag: 'h2',\r\n          attrs: {},\r\n          content: false\r\n        },\r\n        description: {\r\n          tag: 'p',\r\n          attrs: {},\r\n          content: false\r\n        },\r\n        markup: false\r\n      };\r\n\r\n      append(opts.embedPoint, createTemplate());\r\n\r\n      const modalEl = document.getElementById(id);\r\n\r\n      if (hasClass(modalEl, 'show')) return;\r\n\r\n      if (is.null(currentModal)) currentModal = new Modal('#'+id);\r\n\r\n      const\r\n        payload = $data.merge(defaults, p),\r\n        {title, description, markup} = payload,\r\n        body = get('.modal-body', modalEl)\r\n      ;\r\n\r\n      if (checkContent(markup)) {\r\n        append(body, createElementFromString(markup));\r\n        currentModal.show();\r\n        return currentModal;\r\n      }\r\n\r\n      let isMustToShown = true;\r\n\r\n      if (checkContent(title.content)) {\r\n        append(body, text(createElement(title.tag, {...title.attrs}), title.content));\r\n      } else {isMustToShown = false}\r\n\r\n      if (checkContent(description.content)) {\r\n        append(body, text(createElement(description.tag, {...description.attrs}), description.content))\r\n      }\r\n\r\n      if (isMustToShown) currentModal.show();\r\n\r\n      return currentModal;\r\n    },\r\n    hide = () => {\r\n      if (currentModal instanceof Modal) {\r\n        currentModal.hide();\r\n        currentModal = null;\r\n      }\r\n    }\r\n    ;\r\n\r\n  const\r\n    id = generateId(false),\r\n    createTemplate = () => {\r\n      const\r\n        modal = templates.modal(id),\r\n        dialog = templates.dialog(),\r\n        content = templates.content(),\r\n        body = templates.body(),\r\n        close = templates.close(),\r\n        closeText = templates.closeText(opts.closeText),\r\n        closeIcon = templates.closeIcon($Page[globalSettingsAttrName].images, opts.closeIcon)\r\n      ;\r\n\r\n      append(close, closeText);\r\n      append(close, closeIcon);\r\n      append(dialog, content);\r\n      append(content, close);\r\n      append(content, body);\r\n      append(modal, dialog);\r\n\r\n      return modal;\r\n    },\r\n    checkContent = content => content && is.string(content) && is.not.empty(content),\r\n    removeTemplate = event => {\r\n      const modalEl = event.target.closest('#'+id);\r\n\r\n      if (modalEl && !hasClass(modalEl, 'show')) {\r\n        remove(get('#'+id));\r\n        currentModal = null;\r\n      }\r\n    },\r\n    addListeners = () => {\r\n      $events.delegate.on('hidden.bs.modal', '#'+id, removeTemplate);\r\n    },\r\n    removeListeners = () => {\r\n      $events.delegate.off('hidden.bs.modal', '#'+id, removeTemplate);\r\n    }\r\n  ;\r\n\r\n\r\n  return {show, hide, addListeners, removeListeners}\r\n}\r\n","import {$dom} from '../../../helpers/dom';\r\n\r\nconst {\r\n  createElement,\r\n  createElementFromString\r\n} = $dom;\r\n\r\nexport default {\r\n  modal: id => {\r\n    return createElement('div', {\r\n      class: 'modal js-modal fade modal--dynamic',\r\n      ariaHidden: 'true',\r\n      id,\r\n    })\r\n  },\r\n  dialog: () => createElement('div', {class: 'modal-dialog modal-dialog-centered modal-dialog-scrollable'}),\r\n  content: () => createElement('div', {class: 'modal-content'}),\r\n  body: () => createElement('div', {class: 'modal-body'}),\r\n  close: () => {\r\n    return createElement('button', {\r\n      class: 'modal-close ms-auto d-flex align-items-center',\r\n      type: 'button',\r\n      dataBsDismiss: 'modal',\r\n      ariaLabel: 'Close'\r\n    })\r\n  },\r\n  closeText: text => $dom.text(createElement('span', {class: 'me-3'}), text),\r\n  closeIcon: (iconPath, iconName) => createElementFromString(`<svg class=\"svg-icon\"><use xlink:href=\"${iconPath}/sprite.svg#${iconName}\"></use></svg>`)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import Component from \"../classes/Component\";\r\nimport Swiper, { Navigation, Pagination, Scrollbar } from 'swiper';\r\n\r\nexport function plansSlider(\r\n  rootSelector = '#plans'\r\n) {\r\n\r\n  return new Component({\r\n    name: 'plansSlider',\r\n    requiredSelector: rootSelector,\r\n\r\n    onInit() {\r\n\r\n      this.swiper = new Swiper('.plans-swiper', {\r\n\r\n        modules: [Navigation, Pagination, Scrollbar],\r\n      \r\n        direction: 'horizontal',\r\n        loop: false,   \r\n      \r\n        navigation: {\r\n          nextEl: '.swiper-button-next',\r\n          prevEl: '.swiper-button-prev',\r\n        },\r\n\r\n        breakpoints: {\r\n          992: {\r\n            slidesPerView: 2,\r\n          }\r\n        },\r\n    \r\n        autoHeight: true,\r\n        simulateTouch: true,\r\n      });\r\n    },\r\n    onDestroy() {\r\n      this.swiper = null;\r\n    },\r\n  })\r\n}","import Component from \"../classes/Component\";\r\nimport Swiper, { Navigation, Pagination, Scrollbar } from 'swiper';\r\n\r\nexport function procedureSlider(\r\n  rootSelector = '#procedure'\r\n) {\r\n\r\n  return new Component({\r\n    name: 'procedureSlider',\r\n    requiredSelector: rootSelector,\r\n\r\n    onInit() {\r\n\r\n      this.swiper = new Swiper('.procedure-swiper', {\r\n\r\n        modules: [Navigation, Pagination, Scrollbar],\r\n      \r\n        direction: 'horizontal',\r\n        loop: false,   \r\n      \r\n        navigation: {\r\n          nextEl: '.swiper-button-next',\r\n          prevEl: '.swiper-button-prev',\r\n        },\r\n\r\n        breakpoints: {\r\n          768: {\r\n            slidesPerView: 2,\r\n          },\r\n          992: {\r\n            slidesPerView: 3,\r\n          }\r\n        },\r\n      \r\n        autoHeight: true,\r\n        simulateTouch: true,\r\n      });\r\n    },\r\n    onDestroy() {\r\n      this.swiper = null;\r\n    },\r\n  })\r\n}","import {$dom} from '../helpers/dom';\r\nimport {$events} from '../helpers/events';\r\nimport {isElement} from '../helpers/_utilities';\r\nimport variables from '../variables';\r\nimport Component from '../classes/Component';\r\n\r\nconst {\r\n\tattr,\r\n\tget,\r\n\tgetAll,\r\n\thtml,\r\n\tcallAll,\r\n\thasClass,\r\n\tremoveClass,\r\n\taddClass\r\n} = $dom;\r\n\r\nexport default function selectDropdown(\r\n\trootSelector = '[data-select-dropdown]',\r\n\r\n\tbuttonSelector ='[data-select-dropdown-button]',\r\n\tmenuSelector ='[data-select-dropdown-menu]',\r\n\tselectedOutputSelector = '[data-select-dropdown-selected]',\r\n\toptionSelector ='[data-select-dropdown-option]',\r\n\toutputSelector ='[data-select-dropdown-output]',\r\n\tvalueAttr = 'data-value'\r\n) {\r\n\r\n\tconst selectedState = variables.classNames.selected;\r\n\r\n\tfunction checkOptions(root) {\r\n\r\n\t\tconst\r\n\t\t\toptions = getAll(optionSelector, root),\r\n\t\t\tbutton = get(buttonSelector, root),\r\n      buttonContent = get(selectedOutputSelector, root),\r\n\t\t\toutput = get(outputSelector, root),\r\n\t\t\tselectedOption = options.find(option => hasClass(option, selectedState))\r\n\t\t;\r\n\r\n\t\tif (isElement(selectedOption)) {\r\n\t\t\tattr(button, valueAttr, attr(selectedOption, valueAttr));\r\n\t\t\thtml(buttonContent, html(selectedOption));\r\n\r\n\t\t\tconst val = attr(selectedOption, valueAttr);\r\n\r\n\t\t\toutput.value = val;\r\n\r\n\t\t\t$events.emit(variables.customEventNames.selectDropdownSelected, {\r\n\t\t\t\tvalue: val,\r\n\t\t\t}, root)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleClick(event) {\r\n\t\tconst\r\n\t\t\toption = event.target.closest(optionSelector),\r\n\t\t\toptions = getAll(optionSelector, this)\r\n\t\t;\r\n\r\n\t\tif (isElement(option)) {\r\n\t\t\tremoveClass(options.filter(opt => opt !== option), selectedState);\r\n\t\t\taddClass(option, selectedState);\r\n\r\n\t\t\tcheckOptions(this);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleToggle() {\r\n\t\t$dom[hasClass(get(menuSelector, this), 'show')  ? 'removeClass' : 'addClass'](this, variables.classNames.focused)\r\n\t}\r\n\r\n\treturn new Component({\r\n\t\tname: 'selectDropdown',\r\n\t\trequiredSelector: rootSelector,\r\n\t\tonInit() {\r\n\t\t\tcallAll(rootSelector, checkOptions);\r\n\r\n\t\t\t$events.delegate\r\n\t\t\t\t.on('click tap', rootSelector, handleClick)\r\n\t\t\t\t.on('show.bs.dropdown', rootSelector, handleToggle)\r\n\t\t\t\t.on('hide.bs.dropdown', rootSelector, handleToggle)\r\n\t\t},\r\n\t\tonDestroy() {\r\n\t\t\t$events.delegate\r\n\t\t\t\t.off('click tap', rootSelector, handleClick)\r\n\t\t\t\t.off('show.bs.dropdown', rootSelector, handleToggle)\r\n\t\t\t\t.off('hide.bs.dropdown', rootSelector, handleToggle)\r\n\t\t\t;\r\n\t\t}\r\n\t})\r\n}\r\n","import { BootstrapOffcanvas } from \"./bootstrap\";\r\nimport Component from \"../classes/Component\";\r\nimport { $dom } from \"../helpers/dom\";\r\nimport { $events } from '../helpers/events';\r\nimport variables from \"../variables\";\r\nimport { isElement } from \"../helpers/_utilities\";\r\n\r\nconst { menu } = variables.dom;\r\nconst { attr, get, addClass, removeClass, hasClass } = $dom;\r\n\r\nexport function siteMenu(\r\n  rootSelector = '#siteMenu'\r\n) {\r\n\r\n  const offcanvasMenu = BootstrapOffcanvas.getOrCreateInstance(menu);\r\n  const burgerButtonElement = get('.header__menu-burger');\r\n  const burgerButtonClass = 'header__menu-burger--active';\r\n  let lastAnchor = null;\r\n  let hideMenuTimeout = null;\r\n\r\n  function hideMenuHandler() {\r\n\r\n    if(hasClass(burgerButtonElement, burgerButtonClass)) {\r\n      removeClass(burgerButtonElement, burgerButtonClass);\r\n    }\r\n\r\n    if (isElement(lastAnchor)) {\r\n      const href = attr(lastAnchor, 'href')\r\n      const section = get(href)\r\n      const yScrollDistance = window.scrollY + section.getBoundingClientRect().top;\r\n    \r\n      hideMenuTimeout = setTimeout(() => {\r\n        window.scrollTo({\r\n          top: yScrollDistance,\r\n          behavior: \"smooth\",\r\n        })\r\n        clearTimeout(hideMenuTimeout);\r\n      }, 0)  \r\n    }\r\n  }\r\n\r\n  const clickHandler = (event) => {\r\n    \r\n    const menuLink = event.target.closest('.menu-link');\r\n\r\n    if (Boolean(menuLink)) {\r\n      event.preventDefault();\r\n      offcanvasMenu.hide();\r\n      lastAnchor = menuLink;\r\n    }\r\n  }\r\n\r\n  const openMenuHundler = () => {\r\n    if(!hasClass(burgerButtonElement, burgerButtonClass)) {\r\n      addClass(burgerButtonElement, burgerButtonClass);\r\n    }\r\n  }\r\n\r\n  return new Component({\r\n    name: 'siteMenu',\r\n    requiredSelector: rootSelector,\r\n\r\n    onInit() {\r\n      $events.delegate\r\n        .on('click tap', rootSelector, clickHandler)\r\n        .on('hidden.bs.offcanvas', rootSelector, hideMenuHandler)\r\n        .on('show.bs.offcanvas', rootSelector, openMenuHundler)\r\n    },\r\n    onDestroy() {\r\n      $events.delegate\r\n        .off('click tap', rootSelector, clickHandler)\r\n        .off('hidden.bs.offcanvas', rootSelector, hideMenuHandler)\r\n        .off('show.bs.offcanvas', rootSelector, openMenuHundler)\r\n    },\r\n  });\r\n}","import Component from \"../classes/Component\";\r\nimport { $dom } from \"../helpers/dom\";\r\nimport { $style } from \"../helpers/style\";\r\nimport { $events } from \"../helpers/events\";\r\n\r\nconst { get } = $dom\r\nconst { set } = $style\r\n\r\nexport function siteScrollProgressBar(\r\n  rootSelector = '.js-progressbar'\r\n) {\r\n\r\n  const htmlElement = $dom.get('html');\r\n  const progressbar = get('.header__progressbar');\r\n\r\n  const siteScrollHandler = () => {\r\n    let documentScroll = htmlElement.scrollTop;\r\n    let documentHeight = htmlElement.scrollHeight - htmlElement.clientHeight;\r\n    let currentScroll = (documentScroll / documentHeight) * 100;\r\n\r\n    set(progressbar, 'width', currentScroll + \"%\");\r\n  }\r\n\r\n  return new Component({\r\n    name: 'siteScrollProgressBar',\r\n    requiredSelector: rootSelector,\r\n\r\n    onInit() {\r\n      $events.add('scroll', window, siteScrollHandler);\r\n    },\r\n    onDestroy() {\r\n      $events.remove('scroll', window, siteScrollHandler);\r\n    },\r\n  })\r\n}","import Component from \"../classes/Component\";\r\nimport { $dom } from \"../helpers/dom\";\r\nimport { $events } from '../helpers/events';\r\nimport { isElement } from \"../helpers/_utilities\";\r\n\r\nconst { get, addClass, removeClass, hasClass, attr } = $dom;\r\n\r\nexport function siteSearch(\r\n  rootSelector = '.js-search'\r\n) {\r\n\r\n  const\r\n    searchElement = get(rootSelector),\r\n    activeClass = 'is-active',\r\n\r\n    buttonSubmitSelector = '.js-search-submit',\r\n    buttonCloseSelector = '.js-search-close'\r\n    ;\r\n\r\n    let buttonType = null;\r\n\r\n  const clickHandler = (event) => {\r\n    \r\n    const { target } = event;\r\n    const submitButton = target.closest(buttonSubmitSelector);\r\n    const closeButton = target.closest(buttonCloseSelector);\r\n\r\n    if (isElement(submitButton)) {\r\n      \r\n      addClass(searchElement, activeClass);\r\n\r\n      buttonType = 'submit';\r\n    }\r\n\r\n    if (isElement(closeButton)) {\r\n      \r\n      removeClass(searchElement, activeClass);\r\n\r\n      buttonType = 'button';\r\n    }\r\n  }\r\n\r\n  const buttonTypeSwapper = event => {\r\n    attr(get(buttonSubmitSelector, event.target.closest(rootSelector)), 'type', buttonType);\r\n    \r\n  }\r\n\r\n  return new Component({\r\n    name: 'siteSearch',\r\n    requiredSelector: rootSelector,\r\n\r\n    onInit() {\r\n      $events.delegate\r\n        .on('click tap', rootSelector, clickHandler)\r\n        .on('transitionend', '.header__search-wrapper', buttonTypeSwapper)\r\n    },\r\n    onDestroy() {\r\n      $events.delegate\r\n        .off('click tap', rootSelector, clickHandler)\r\n        .off('transitionend', '.header__search-wrapper', buttonTypeSwapper)\r\n    },\r\n  })\r\n}","import Component from \"../classes/Component\";\r\nimport { $dom } from \"../helpers/dom\";\r\nimport { $events } from \"../helpers/events\";\r\nimport variables from \"../variables\";\r\n\r\nconst { getAll, hasClass, addClass, removeClass, each, attr } = $dom;\r\n\r\nconst headerLinkActiveClassName = 'header__nav-link--active'\r\n\r\nconst { header } = variables.dom;\r\n\r\nconst linkDomElements = getAll('.header__nav-link');\r\nconst sectionDomElements = getAll('.js-scroll-anchor');\r\n\r\nlet lastId = null;\r\n\r\nexport function smartScroll(\r\n  rootSelector = '#js-header'\r\n) {\r\n\r\n  const scrollHandler = () => {\r\n\r\n    let scrollDistance = window.scrollY;\r\n\r\n    let currentItem = sectionDomElements.filter(section => section.offsetTop - header.clientHeight < scrollDistance)\r\n\r\n    currentItem = currentItem[currentItem.length - 1];\r\n\r\n    let currentId = attr(currentItem, 'id');\r\n\r\n    if (lastId !== currentId) {\r\n      lastId = currentId;\r\n\r\n      each(linkDomElements, element => {\r\n        if (hasClass(element, headerLinkActiveClassName)) {\r\n          removeClass(element, headerLinkActiveClassName);\r\n        }\r\n      })\r\n\r\n      let filteredLinks = linkDomElements.filter(element => attr(element, 'href') === `#${currentId}`);\r\n\r\n      addClass(filteredLinks, headerLinkActiveClassName);\r\n    }\r\n  }\r\n\r\n  return new Component({\r\n    name: 'smartScroll',\r\n    requiredSelector: rootSelector,\r\n\r\n    onInit() {\r\n      $events.add('scroll', window, scrollHandler)\r\n    },\r\n    onDestroy() {\r\n      $events.remove('scroll', window, scrollHandler)\r\n    },\r\n  });\r\n}\r\n\r\n\r\n\r\n","import {isElement, isNode} from \"../../helpers/_utilities\";\r\nimport {$dom} from \"../../helpers/dom\";\r\nimport is from 'is_js';\r\nimport {$style} from \"../../helpers/style\";\r\nimport variables from \"../../variables\";\r\n\r\nconst {\r\n  createElementFromString\r\n} = $dom;\r\n\r\n(function(root, factory) {\r\n    if (typeof module === \"object\" && module.exports) {\r\n        module.exports = factory();\r\n    } else {\r\n        root.Toastify = factory();\r\n    }\r\n})(this, function(global) {\r\n    const\r\n        Toastify = options => new Toastify.lib.init(options),\r\n        rootClassName = 'toast',\r\n        activeClassName = variables.classNames.active\r\n    ;\r\n    let adaptiveBreakpoint = null;\r\n\r\n\r\n    Toastify.defaults = {\r\n        oldestFirst: true,\r\n        text: 'Текст уведомления по умолчанию',\r\n        node: undefined,\r\n        duration: 3000,\r\n        selector: undefined,\r\n        onDismiss: Function.prototype,\r\n        destination: undefined,\r\n        newWindow: false,\r\n        close: false,\r\n        gravity: `${rootClassName}-top`,\r\n        position: '',\r\n        icon: '',\r\n        className: '',\r\n        stopOnFocus: true,\r\n        onClick: Function.prototype,\r\n        offset: {x: 0, y: 0},\r\n        escapeMarkup: true,\r\n        style: {background: ''},\r\n        breakpoint: variables.breakpoints.m\r\n    };\r\n\r\n    Toastify.lib = Toastify.prototype = {\r\n        constructor: Toastify,\r\n        init: function(options) {\r\n            if (!options) options = {};\r\n\r\n            this.options = {};\r\n            this.toastElement = null;\r\n\r\n            this.options.text = options.text || Toastify.defaults.text;\r\n            this.options.node = options.node || Toastify.defaults.node;\r\n            this.options.duration = options.duration === 0 ? 0 : options.duration || Toastify.defaults.duration;\r\n            this.options.selector = options.selector || Toastify.defaults.selector;\r\n            this.options.onDismiss = options.onDismiss || Toastify.defaults.onDismiss;\r\n            this.options.destination = options.destination || Toastify.defaults.destination;\r\n            this.options.newWindow = options.newWindow || Toastify.defaults.newWindow;\r\n            this.options.close = options.close || Toastify.defaults.close;\r\n            this.options.gravity = options.gravity === 'bottom' ? `${rootClassName}-bottom` : Toastify.defaults.gravity;\r\n            this.options.position = options.position || Toastify.defaults.position;\r\n            this.options.icon = options.icon || Toastify.defaults.icon;\r\n            this.options.className = options.className || Toastify.defaults.className;\r\n            this.options.stopOnFocus = options.stopOnFocus === undefined ? Toastify.defaults.stopOnFocus : options.stopOnFocus;\r\n            this.options.onClick = options.onClick || Toastify.defaults.onClick;\r\n            this.options.offset = options.offset || Toastify.defaults.offset;\r\n            this.options.escapeMarkup = options.escapeMarkup !== undefined ? options.escapeMarkup : Toastify.defaults.escapeMarkup;\r\n            this.options.style = options.style || Toastify.defaults.style;\r\n            this.options.style.background = '' || options.backgroundColor;\r\n            this.options.breakpoint = options.breakpoint || Toastify.defaults.breakpoint;\r\n\r\n            adaptiveBreakpoint = this.options.breakpoint\r\n\r\n            return this;\r\n        },\r\n\r\n\r\n        buildToast: function() {\r\n            if (!this.options) throw \"Toastify is not initialized\";\r\n            const divElement = document.createElement('div');\r\n            divElement.className = `${rootClassName} ${activeClassName} ` + this.options.className;\r\n\r\n            if (Boolean(this.options.position)) {\r\n                divElement.className += ` ${rootClassName}-` + this.options.position;\r\n            }\r\n\r\n            divElement.className += ' ' + this.options.gravity;\r\n\r\n            for (let property in this.options.style) {\r\n                if (this.options.style.hasOwnProperty(property)) {\r\n                    divElement.style[property] = this.options.style[property];\r\n                }\r\n            }\r\n\r\n            if (this.options.node && isNode(this.options.node)) {\r\n                divElement.appendChild(this.options.node)\r\n            } else {\r\n                if (this.options.escapeMarkup) {\r\n                    divElement.innerText = this.options.text;\r\n                } else {\r\n                    divElement.innerHTML = `<p class=\"${rootClassName}-text\">${this.options.text}</p>`;\r\n                }\r\n\r\n                if (this.options.icon !== '') {\r\n\r\n                    let iconElement = createElementFromString(this.options.icon);\r\n\r\n                    if (!isElement(iconElement)) {\r\n                        iconElement = document.createElement('img');\r\n                        iconElement.src = this.options.icon;\r\n                    }\r\n\r\n                    iconElement.classList.add(`${rootClassName}-icon`);\r\n\r\n                    divElement.insertAdjacentElement(\r\n                        this.options.position === 'left' ? 'beforeend' : 'afterbegin',\r\n                        iconElement\r\n                    );\r\n                }\r\n            }\r\n\r\n            if (this.options.close === true) {\r\n                const closeElement = $dom.createElement('button', {\r\n                    type: 'button',\r\n                    class: `${rootClassName}-close`\r\n                });\r\n\r\n                closeElement.innerHTML = '<svg class=\"svg-icon\"><use xlink:href=\"img/sprite.svg#close\"></use></svg>';\r\n\r\n                closeElement.addEventListener(\r\n                    'click',\r\n                    function(event) {\r\n                        event.stopPropagation();\r\n                        this.removeElement(this.toastElement);\r\n                        window.clearTimeout(this.toastElement.timeOutValue);\r\n                    }.bind(this)\r\n                );\r\n\r\n\r\n                const width = window.innerWidth > 0 ? window.innerWidth : screen.width;\r\n\r\n                divElement.insertAdjacentElement(\r\n                    this.options.position === 'left' && width > this.options.breakpoint\r\n                        ? 'afterbegin'\r\n                        : 'beforeend',\r\n                    closeElement\r\n                );\r\n            }\r\n\r\n\r\n            if (this.options.stopOnFocus && this.options.duration > 0) {\r\n                const self = this;\r\n\r\n                divElement.addEventListener(\r\n                    'mouseover',\r\n                    function() {window.clearTimeout(divElement.timeOutValue)}\r\n                )\r\n\r\n                divElement.addEventListener(\r\n                    'mouseleave',\r\n                    function() {\r\n                        divElement.timeOutValue = window.setTimeout(\r\n                            function() {self.removeElement(divElement)},\r\n                            self.options.duration\r\n                        )\r\n                    }\r\n                )\r\n            }\r\n\r\n            if (is.not.undefined(this.options.destination) && is.string(this.options.destination)) {\r\n                divElement.addEventListener(\r\n                    'click',\r\n                    function(event) {\r\n                        event.stopPropagation();\r\n                        if (this.options.newWindow === true) {\r\n                            window.open(this.options.destination, '_blank');\r\n                        } else {\r\n                            window.location = this.options.destination;\r\n                        }\r\n                    }.bind(this)\r\n                );\r\n            }\r\n\r\n            if (is.function(this.options.onClick) && is.undefined(this.options.destination)) {\r\n                divElement.addEventListener(\r\n                    'click',\r\n                    function(event) {\r\n                        event.stopPropagation();\r\n                        this.options.onClick();\r\n                    }.bind(this)\r\n                );\r\n            }\r\n\r\n            if(is.object(this.options.offset)) {\r\n\r\n                const\r\n                    x = getAxisOffsetAValue(\"x\", this.options),\r\n                    y = getAxisOffsetAValue(\"y\", this.options),\r\n                    xOffset = this.options.position === 'left' ? x : '-' + x,\r\n                    yOffset = this.options.gravity === `${rootClassName}-top` ? y : '-' + y\r\n                ;\r\n\r\n                divElement.style.transform = `translate(${xOffset}, ${yOffset})`\r\n            }\r\n\r\n\r\n            return divElement;\r\n        },\r\n\r\n\r\n        showToast: function() {\r\n            this.toastElement = this.buildToast();\r\n\r\n\r\n            let rootElement;\r\n\r\n            if (is.string(this.options.selector)) {\r\n                rootElement = document.querySelector(this.options.selector);\r\n            } else if (this.options.selector instanceof HTMLElement || this.options.selector instanceof ShadowRoot) {\r\n                rootElement = this.options.selector;\r\n            } else {\r\n                rootElement = document.body;\r\n            }\r\n\r\n            if (!rootElement) throw 'Root element is not defined';\r\n\r\n            const elementToInsert = Toastify.defaults.oldestFirst ? rootElement.firstChild : rootElement.lastChild;\r\n            rootElement.insertBefore(this.toastElement, elementToInsert);\r\n\r\n            Toastify.reposition();\r\n\r\n            if (this.options.duration > 0) {\r\n                this.toastElement.timeOutValue = window.setTimeout(\r\n                    function() {this.removeElement(this.toastElement)}.bind(this),\r\n                    this.options.duration\r\n                );\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        hideToast: function() {\r\n            if (this.toastElement.timeOutValue) {\r\n                clearTimeout(this.toastElement.timeOutValue);\r\n            }\r\n            this.removeElement(this.toastElement);\r\n        },\r\n\r\n\r\n        removeElement: function(toastElement) {\r\n            toastElement.className = toastElement.className.replace(` ${activeClassName}`, '');\r\n\r\n            window.setTimeout(\r\n                function() {\r\n                    if (this.options.node && this.options.node.parentNode) {\r\n                        this.options.node.parentNode.removeChild(this.options.node);\r\n                    }\r\n\r\n                    if (toastElement.parentNode) {\r\n                        toastElement.parentNode.removeChild(toastElement);\r\n                    }\r\n\r\n                    this.options.onDismiss.call(toastElement);\r\n\r\n                    Toastify.reposition();\r\n                }.bind(this),\r\n                ($style.get(toastElement, 'transition-duration', true) * 1000) || 0\r\n            );\r\n        },\r\n    };\r\n\r\n    Toastify.reposition = function() {\r\n\r\n        const topLeftOffsetSize = {\r\n            top: 15,\r\n            bottom: 15,\r\n        };\r\n        const topRightOffsetSize = {\r\n            top: 15,\r\n            bottom: 15,\r\n        };\r\n        const offsetSize = {\r\n            top: 15,\r\n            bottom: 15,\r\n        };\r\n\r\n        const allToasts = document.getElementsByClassName(rootClassName);\r\n\r\n        let classUsed;\r\n\r\n        for (let i = 0; i < allToasts.length; i++) {\r\n\r\n            if (containsClass(allToasts[i], `${rootClassName}-top`) === true) {\r\n                classUsed = `${rootClassName}-top`;\r\n            } else {\r\n                classUsed = `${rootClassName}-bottom`;\r\n            }\r\n\r\n            const height = allToasts[i].offsetHeight;\r\n\r\n            classUsed = classUsed.substr(rootClassName.length + 1, classUsed.length-1) // 9 - обрезает toastify-\r\n\r\n\r\n            const\r\n                toastsBetweenOffset = 15,\r\n                width = window.innerWidth > 0 ? window.innerWidth : screen.width\r\n            ;\r\n\r\n            if (width <= adaptiveBreakpoint) {\r\n                allToasts[i].style[classUsed] = offsetSize[classUsed] + 'px';\r\n                offsetSize[classUsed] += height + toastsBetweenOffset;\r\n            } else {\r\n                if (containsClass(allToasts[i], `${rootClassName}-left`) === true) {\r\n                    allToasts[i].style[classUsed] = topLeftOffsetSize[classUsed] + 'px';\r\n                    topLeftOffsetSize[classUsed] += height + toastsBetweenOffset;\r\n                } else {\r\n                    allToasts[i].style[classUsed] = topRightOffsetSize[classUsed] + 'px';\r\n                    topRightOffsetSize[classUsed] += height + toastsBetweenOffset;\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    function getAxisOffsetAValue(axis, options) {\r\n\r\n        if(options.offset[axis]) {\r\n            if(isNaN(options.offset[axis])) {\r\n                return options.offset[axis];\r\n            }\r\n            else {\r\n                return options.offset[axis] + 'px';\r\n            }\r\n        }\r\n\r\n        return '0px';\r\n\r\n    }\r\n\r\n    function containsClass(elem, yourClass) {\r\n        if (!elem || typeof yourClass !== 'string') {\r\n            return false;\r\n        } else return elem.className &&\r\n            elem.className\r\n                .trim()\r\n                .split(/\\s+/gi)\r\n                .indexOf(yourClass) > -1;\r\n    }\r\n\r\n    Toastify.lib.init.prototype = Toastify.lib;\r\n\r\n    return Toastify;\r\n});\r\n","import {$data} from '../../helpers/data';\r\nimport Component from '../../classes/Component';\r\nimport Toastify from './Toastify';\r\nimport variables from '../../variables';\r\n\r\nconst {merge} = $data;\r\nconst {globalSettingsAttrName} = variables;\r\n\r\nexport default function(settings = {}) {\r\n\r\n  const defaults = {\r\n    duration: 3000,\r\n    newWindow: true,\r\n    close: true,\r\n    gravity: 'top',\r\n    position: 'right',\r\n    stopOnFocus: true,\r\n    escapeMarkup: false\r\n  };\r\n\r\n  const\r\n    pluginOptions = merge(defaults, settings),\r\n    icons = {\r\n      success: 'check',\r\n      warning: 'exclamation',\r\n      info: 'info',\r\n      danger: 'warning'\r\n    }\r\n  ;\r\n\r\n  const $Page = this;\r\n\r\n  return new Component({\r\n    name: 'toast',\r\n    requiredSelector: undefined,\r\n    onInit() {\r\n      this.show = function (text = '', status = 'info') {\r\n        return Toastify(merge(pluginOptions, {\r\n          text,\r\n          className: 'status--'+status,\r\n          icon: `<svg class=\"svg-icon\"><use xlink:href=\"${$Page[globalSettingsAttrName].images}/sprite.svg#${icons[status]}\"></use></svg>`\r\n        })).showToast();\r\n      }\r\n    }\r\n  })\r\n}","import {$dom} from \"./dom\";\r\nimport {$data} from \"./data\";\r\nimport {$events} from \"./events\";\r\nimport {$style} from \"./style\";\r\nimport {$ui} from \"./ui\";\r\nimport variables from \"../variables\";\r\nimport is from 'is_js';\r\n\r\nconst APIName = variables.$EXTERNAL_API_NAME;\r\n\r\nwindow[APIName] = {};\r\n\r\n[\r\n  {\r\n    name: 'dom',\r\n    value: $dom\r\n  },\r\n  {\r\n    name: 'data',\r\n    value: $data\r\n  },\r\n  {\r\n    name: 'is',\r\n    value: is\r\n  },\r\n  {\r\n    name: 'events',\r\n    value: $events\r\n  },\r\n  {\r\n    name: 'style',\r\n    value: $style\r\n  },\r\n  {\r\n    name: 'ui',\r\n    value: $ui\r\n  }\r\n]\r\n  .forEach(item => window[APIName][item.name] = item.value);\r\n","import variables from \"../variables\";\r\nimport is from \"is_js\";\r\n\r\nexport function warn(message, locationName) {\r\n\r\n\tif (variables.debugLogs) {\r\n\t\tconsole.warn(message + `. Warning source - ${locationName}`)\r\n\t} else {\r\n\t\tif (variables.debugLogsDisabledNotify) {\r\n\t\t\tconsole.info('%cDebug mode is disabled. You will not see any error messages from \"$helpers\"', 'color: orange;');\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function toDashesCase(string) {\r\n\treturn  string.replace(/[A-Z]/g, m => '-' + m.toLowerCase())\r\n}\r\n\r\nexport function isElement(target){\r\n\treturn (\r\n\t\ttypeof HTMLElement === 'object' ? target instanceof HTMLElement :\r\n\t\t\ttarget && typeof target === 'object' && target !== null && target.nodeType === 1 && typeof target.nodeName === 'string'\r\n\t);\r\n}\r\n\r\nexport function isNode(target){\r\n\treturn (\r\n\t\ttypeof Node === \"object\" ? target instanceof Node :\r\n\t\t\ttarget && typeof target === \"object\" && typeof target.nodeType === \"number\" && typeof target.nodeName===\"string\"\r\n\t);\r\n}\r\n\r\nexport function filterStringArgs(targets) {\r\n\treturn targets.toString().split(/[\\s,]+/).filter(e => e.length)\r\n}\r\n\r\nexport function optimizeTarget(target) {\r\n\treturn is.not.array(target) && !isElement(target) && target !== window ? document.querySelector(target) : target;\r\n}\r\n\r\nexport function preventDefault(event) {\r\n\t(event.originalEvent || event).preventDefault();\r\n\treturn event;\r\n}\r\n\r\nexport function sleep(ms) {\r\n\tlet tm = null;\r\n\treturn new Promise(resolve => {\r\n\t\ttm = setTimeout(resolve, ms);\r\n\t}).then(() => {\r\n\t\tclearTimeout(tm);\r\n\t\ttm = null;\r\n\t});\r\n}\r\n\r\nexport function loop(arr, cb) {\r\n  if (is.not.array(arr) || is.not.function(cb)) return;\r\n\r\n  for (let i = 0; i < arr.length; i++) {\r\n    cb.call(arr[i], arr[i], i)\r\n  }\r\n}\r\n\r\nexport function getRandomInt(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min + 1)) + min; //Максимум и минимум включаются\r\n}\r\n\r\nexport function replaceAll(str, find, replace) {\r\n  return str.replace(new RegExp(find, 'g'), replace);\r\n}\r\n\r\nexport function cssPropertyToCamelCase(string) {\r\n  return string.replace( /-([a-z])/g, function( _all, letter ) {\r\n    return letter.toUpperCase();\r\n  });\r\n}\r\n\r\nexport function generateId(usePostfix = true) {\r\n\r\n  const postfix = '--' + getRandomInt(0, 10000);\r\n\r\n  return '_' + Math.random().toString(36).substr(2, 9) + (usePostfix ? postfix : '');\r\n}\r\n\r\nexport function addZero(val) {\r\n  return ('0' + val).slice(-2);\r\n}\r\n\r\nexport function forIn(obj, cb) {\r\n  for (let key in obj) {\r\n    if (obj.hasOwnProperty(key)) {\r\n      cb.call(obj[key], key, obj[key])\r\n    }\r\n  }\r\n}","import merge from 'deepmerge';\r\n\r\nexport const $data = (function () {\r\n\r\n  const localAPIs = {};\r\n\r\n  localAPIs.merge = merge;\r\n\r\n  localAPIs.cloneObject = obj => JSON.parse(JSON.stringify(obj));\r\n\r\n  return localAPIs;\r\n\r\n})();\r\n","import {warn, toDashesCase, isElement, isNode, filterStringArgs, optimizeTarget} from \"./_utilities\";\r\nimport is from \"is_js\";\r\n\r\nexport const $dom = (function () {\r\n\r\n  const\r\n    localAPIs = {},\r\n    defineContext = context => {\r\n\r\n      let value = null;\r\n\r\n      if (is.string(context)) {\r\n        value = document.querySelector(context);\r\n      } else if (is.domNode(context)) {\r\n        value = context\r\n      } else if (is.undefined(context) || is.null(context)) {\r\n\r\n        value = document\r\n      }\r\n\r\n      if (value === null) warn(`The DOM-context for finding an element is not defined, context is specified as \"${context}\"`, '$dom-helper');\r\n\r\n      return value;\r\n    },\r\n    doWithClass = (target, className, action = '') => {\r\n\r\n      className = filterStringArgs(className);\r\n\r\n      localAPIs.each(className, name => localAPIs.callAll(target, el => el.classList[action](name)));\r\n\r\n      return optimizeTarget(target)\r\n    },\r\n    doWithInnerContent = (target, options) => {\r\n      let results = [], setMode = is.not.null(options.newContent);\r\n\r\n      localAPIs.callAll(target, element => {\r\n\r\n        if (is.null(options.newContent)) {\r\n          results.push({ element, [options.resultKey]: element[options.resultMethod]});\r\n        } else {\r\n          element[options.resultMethod] = options.newContent;\r\n        }\r\n      });\r\n\r\n      if (results.length === 0) {\r\n        results = null\r\n      } else if (results.length === 1) {\r\n        results = results[0][options.resultKey]\r\n      }\r\n\r\n\r\n\r\n      return setMode ? optimizeTarget(target) : results;\r\n    },\r\n    doWithInsert = (element, insertTarget, position) => {\r\n\r\n      if (!element || !insertTarget) return;\r\n\r\n      if (is.string(element)) element = localAPIs.get(element);\r\n      if (is.string(insertTarget)) insertTarget = localAPIs.get(insertTarget);\r\n\r\n      let insertTargetElement;\r\n\r\n      switch (position) {\r\n        case 'after':\r\n          insertTargetElement = insertTarget.nextSibling;\r\n          break;\r\n        case 'before':\r\n          insertTargetElement = insertTarget;\r\n          break;\r\n      }\r\n\r\n      insertTarget.parentNode.insertBefore(element, insertTargetElement);\r\n      return element;\r\n    },\r\n    doWithAppend = (target, element, position) => {\r\n\r\n      if (!element || !target) return;\r\n\r\n      if (is.string(element)) element = localAPIs.get(element);\r\n      if (is.string(target)) target = localAPIs.get(target);\r\n\r\n      switch (position) {\r\n        case 'start':\r\n          target.insertBefore(element, target.childNodes[0] || null);\r\n          break;\r\n        case 'end':\r\n          target.insertBefore(element, null);\r\n          break;\r\n      }\r\n      return element;\r\n    }\r\n  ;\r\n\r\n  localAPIs.get = function (selector, context) {\r\n\r\n    context = defineContext(context);\r\n\r\n    let target = null;\r\n\r\n    try {\r\n      target = context.querySelector(selector);\r\n    } catch (e) {\r\n      warn(`Could not find element by selector \"${selector}\" within context \"${context}\". A description of the original error follows`, e);\r\n    }\r\n\r\n    if (!isElement(target)) warn(`Method \"get\" - element by selector \"${selector}\" not found`, '$dom-helper');\r\n\r\n    return target;\r\n  };\r\n\r\n  localAPIs.getAll = function (selector, context) {\r\n\r\n    context = defineContext(context);\r\n\r\n    let target = [];\r\n\r\n    try {\r\n      target = Array.prototype.slice.call(context.querySelectorAll(selector))\r\n    } catch (e) {\r\n      warn(`Failed to execute array of elements by selector \"${selector}\" within context \"${context}\"\". A description of the original error follows`, e);\r\n    }\r\n\r\n    if (target.length === 0) warn(`Method \"getAll\" - array of elements by selector \"${selector}\" is empty`, '$dom-helper');\r\n\r\n    return target;\r\n  };\r\n\r\n  localAPIs.each = function(collection, callback) {\r\n\r\n    if (is.not.array(collection) || collection.length === 0) {\r\n      warn('Method each - collection is not a array or array is empty', '$dom-helper');\r\n      return;\r\n    }\r\n\r\n    if (is.not.function(callback)) {\r\n      warn('Method each - callback is not a function', '$dom-helper');\r\n      return;\r\n    }\r\n\r\n    let l = collection.length;\r\n    for (let i = 0; i < l; i++) callback.call(collection[i], collection[i], i);\r\n\r\n    return collection;\r\n  };\r\n\r\n  localAPIs.callAll = function(target, callback, context = document) {\r\n\r\n\r\n    if (isElement(target) || isNode(target) || target === window) {\r\n      callback(target);\r\n\r\n      return target\r\n    }\r\n\r\n    if (is.string(target)) target = localAPIs.getAll(target, defineContext(context));\r\n\r\n    if (is.array(target) && target.length > 0) {\r\n      localAPIs.each(target, callback);\r\n\r\n      return target;\r\n    }\r\n\r\n\r\n    return null;\r\n  };\r\n\r\n  localAPIs.addClass = (target, className) => doWithClass(target, className, 'add');\r\n\r\n  localAPIs.removeClass = (target, className) => doWithClass(target, className, 'remove');\r\n\r\n  localAPIs.hasClass = (element, className) => element.classList.contains(className);\r\n\r\n  localAPIs.toggleClass = (target, className) => doWithClass(target, className, 'toggle');\r\n\r\n  localAPIs.getParent = function(element, selector = null) {\r\n\r\n    if (is.not.null(selector)) {\r\n      do {\r\n        if (element.matches(selector)) return element;\r\n        element = element.parentElement || element.parentNode;\r\n      } while (element !== null && element.nodeType === 1);\r\n\r\n    } else {\r\n      return element.parentNode\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  localAPIs.attr = function(target, property, value = null) {\r\n    let results = [], setMode = (is.string(property) && is.string(value)) || (is.object(property) && is.not.function(property));\r\n\r\n    localAPIs.callAll(target, element => {\r\n\r\n      if (is.string(property)) {\r\n\r\n        if (is.null(value)) {\r\n          results.push({ element, value: element.getAttribute(property)});\r\n        } else if (is.string(value)) {\r\n          element.setAttribute(toDashesCase(property), value);\r\n        }\r\n\r\n      } else if (is.object(property) && is.not.function(property)) {\r\n        for (let [key, value] of Object.entries(property)) element.setAttribute(toDashesCase(key), value);\r\n      }\r\n\r\n    });\r\n\r\n    if (results.length === 0) {\r\n      results = null\r\n    } else if (results.length === 1) {\r\n      results = results[0].value\r\n    }\r\n\r\n    return setMode ? optimizeTarget(target) : results;\r\n\r\n  };\r\n\r\n  localAPIs.html = (target, newHtml = null) => doWithInnerContent(target, {\r\n    newContent: newHtml,\r\n    resultKey: 'html',\r\n    resultMethod: 'innerHTML'\r\n  });\r\n\r\n  localAPIs.text = (target, newText = null) => doWithInnerContent(target, {\r\n    newContent: newText,\r\n    resultKey: 'text',\r\n    resultMethod: 'textContent'\r\n  });\r\n\r\n  localAPIs.createElement = function(tagName, attrs = null, isSVG = false) {\r\n    if (is.not.string(tagName)) return;\r\n\r\n    const el = isSVG\r\n      ? document.createElementNS('http://www.w3.org/2000/svg', tagName)\r\n      : document.createElement(tagName)\r\n    ;\r\n\r\n    if (attrs !== null && is.object(attrs) && is.not.array(attrs)) {\r\n      for (let key in attrs) {\r\n        if (attrs.hasOwnProperty(key)) {\r\n          el.setAttribute(isSVG ? key : toDashesCase(key), attrs[key])\r\n        }\r\n      }\r\n    }\r\n    return el\r\n  };\r\n\r\n  localAPIs.createElementFromString = function(string) {\r\n    const div = document.createElement('div');\r\n    div.innerHTML = string.trim();\r\n    return div.firstChild;\r\n  };\r\n\r\n  localAPIs.replace = function(element, newElement) {\r\n    element.parentNode.replaceChild(newElement, element);\r\n\r\n    return newElement\r\n  };\r\n\r\n  localAPIs.wrap = function(element, wrapperElement) {\r\n    element.parentNode.insertBefore(wrapperElement, element);\r\n    wrapperElement.appendChild(element);\r\n    return wrapperElement\r\n  };\r\n\r\n  localAPIs.remove = target => localAPIs.callAll(target, element => element.parentNode.removeChild(element));\r\n\r\n  localAPIs.insertAfter = (element, insertTarget) => doWithInsert(element, insertTarget, 'after');\r\n\r\n  localAPIs.insertBefore = (element, insertTarget) => doWithInsert(element, insertTarget, 'before');\r\n\r\n  localAPIs.append = (appendTarget, element) => doWithAppend(appendTarget, element, 'end');\r\n\r\n  localAPIs.prepend = (prependTarget, element) => doWithAppend(prependTarget, element, 'start');\r\n\r\n  localAPIs.clone = element => element.cloneNode(true);\r\n\r\n  localAPIs.ready = callback => {\r\n\r\n    if (is.not.function(callback)) {\r\n      warn('$dom.ready callback is not a function', '$dom-helper');\r\n      return;\r\n    }\r\n\r\n    if (document.readyState === 'complete' ) callback.call(window);\r\n\r\n    document.addEventListener( 'DOMContentLoaded', callback.bind(window), {once: true});\r\n  };\r\n\r\n  localAPIs.exist = (target, context = document) => {\r\n\r\n    if (is.null(target)) return false;\r\n\r\n    if (Boolean(context)) {\r\n\r\n      if(is.string(context)) {\r\n        context = document.querySelector(context)\r\n      }\r\n\r\n      const elToBool = t => Boolean(isElement(context.querySelector(t)));\r\n\r\n      if (isElement(context) || isNode(context)) {\r\n        if (is.string(target)) return elToBool(target);\r\n\r\n        if (is.array(target) && target.length > 0) {\r\n          return target.every(t => elToBool(t))\r\n        }\r\n      }\r\n\r\n      return false;\r\n    } else {\r\n      warn('Context for exist-method is not defined', '$dom.exist')\r\n    }\r\n\r\n    return false\r\n  };\r\n\r\n  return localAPIs;\r\n})();\r\n","import {$dom} from \"./dom\";\r\nimport {filterStringArgs, isElement, warn} from \"./_utilities\";\r\nimport is from 'is_js';\r\nimport variables from \"../variables\";\r\n\r\nexport const $events = (function() {\r\n\r\n\tconst\r\n\t\tlocalAPIs = {},\r\n\t\tisTouch = is.touchDevice(),\r\n\t\tmouseEvents = ['click', 'dblclick'],\r\n\t\ttouchEvents = ['tap', 'dbltap', 'swipeLeft', 'swipeRight', 'swipeUp', 'swipeDown', 'longtap'],\r\n\t\tprocessEventTypes = (types, callback) => filterStringArgs(types).forEach(type => callback(type)),\r\n\t\tneedToExcludeEventByDevice = type => (isTouch && mouseEvents.includes(type)) || (!isTouch && touchEvents.includes(type)),\r\n\t\tcreateTouch = (() => {\r\n\t\t\tif (typeof document.createEvent !== 'function') return false;\r\n\r\n\t\t\tconst\r\n\t\t\t\tdefaults = {\r\n\t\t\t\t\tswipeThreshold: 100,\r\n\t\t\t\t\ttapThreshold: 150, // range of time where a tap event could be detected\r\n\t\t\t\t\tdbltapThreshold: 200, // delay needed to detect a double tap\r\n\t\t\t\t\tlongtapThreshold: 1000, // delay needed to detect a long tap\r\n\t\t\t\t\ttapPrecision: 30, // touch events boundaries\r\n\t\t\t\t};\r\n\r\n\t\t\tlet\r\n\t\t\t\tpointerEvent = function(type) {\r\n\t\t\t\t\tlet\r\n\t\t\t\t\t\tlo = type.toLowerCase(),\r\n\t\t\t\t\t\tms = 'MS' + type\r\n\t\t\t\t\t;\r\n\t\t\t\t\treturn navigator.msPointerEnabled ? ms : window.PointerEvent ? lo : false\r\n\t\t\t\t},\r\n\t\t\t\ttouchEvent = name => 'on' + name in window ? name : false,\r\n\t\t\t\twasTouch = false,\r\n\t\t\t\ttapNum = 0,\r\n\t\t\t\tpointerId, currX, currY, cachedX, cachedY, timestamp, target, dblTapTimer, longtapTimer,\r\n\t\t\t\ttouchEvents = {\r\n\t\t\t\t\ttouchstart: touchEvent('touchstart') || pointerEvent('PointerDown'),\r\n\t\t\t\t\ttouchend: touchEvent('touchend') || pointerEvent('PointerUp'),\r\n\t\t\t\t\ttouchmove: touchEvent('touchmove') || pointerEvent('PointerMove')\r\n\t\t\t\t},\r\n\t\t\t\tisTheSameFingerId = e => !e.pointerId || typeof pointerId === 'undefined' || e.pointerId === pointerId,\r\n\t\t\t\tsetListener = function(elm, events, callback) {\r\n\t\t\t\t\tlet\r\n\t\t\t\t\t\teventsArray = events.split(' '),\r\n\t\t\t\t\t\ti = eventsArray.length\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\t\twhile (i--) {\r\n\t\t\t\t\t\telm.addEventListener(eventsArray[i], callback, false)\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tgetPointerEvent = function(event) {\r\n\t\t\t\t\tlet hasTargetTouches = Boolean(event.targetTouches && event.targetTouches.length);\r\n\r\n\t\t\t\t\tswitch (true) {\r\n\t\t\t\t\t\tcase Boolean(event.target.touches):\r\n\t\t\t\t\t\t\treturn event.target.touches[0];\r\n\t\t\t\t\t\tcase hasTargetTouches && typeof event.targetTouches[0].pageX !== 'undefined':\r\n\t\t\t\t\t\t\treturn event.targetTouches[0];\r\n\t\t\t\t\t\tcase hasTargetTouches && Boolean(event.targetTouches[0].touches):\r\n\t\t\t\t\t\t\treturn event.targetTouches[0].touches[0];\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\treturn event\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tisMultipleTouches = event => (event.targetTouches || event.target.touches || []).length > 1,\r\n\t\t\t\tgetTimestamp = () => new Date().getTime(),\r\n\t\t\t\tsendEvent = function(elm, eventName, originalEvent, data) {\r\n\t\t\t\t\tlet customEvent = document.createEvent('Event');\r\n\t\t\t\t\tcustomEvent.originalEvent = originalEvent;\r\n\t\t\t\t\tdata = data || {};\r\n\t\t\t\t\tdata.x = currX;\r\n\t\t\t\t\tdata.y = currY;\r\n\r\n\t\t\t\t\tif (customEvent.initEvent) {\r\n\t\t\t\t\t\tfor (let key in data) {\r\n\t\t\t\t\t\t\tif (data.hasOwnProperty(key)) {\r\n\t\t\t\t\t\t\t\tcustomEvent[key] = data[key]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcustomEvent.initEvent(eventName, true, true);\r\n\t\t\t\t\t\telm.dispatchEvent(customEvent)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twhile (elm) {\r\n\t\t\t\t\t\tif (elm['on' + eventName]) elm['on' + eventName](customEvent);\r\n\t\t\t\t\t\telm = elm.parentNode\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\tonTouchStart = function(e) {\r\n\t\t\t\t\tif (!isTheSameFingerId(e) || isMultipleTouches(e)) return;\r\n\r\n\t\t\t\t\tpointerId = e.pointerId;\r\n\r\n\t\t\t\t\tif (e.type !== 'mousedown') wasTouch = true;\r\n\r\n\t\t\t\t\t// skip this event we don't need to track it now\r\n\t\t\t\t\tif (e.type === 'mousedown' && wasTouch) return;\r\n\r\n\t\t\t\t\tlet pointer = getPointerEvent(e);\r\n\r\n\t\t\t\t\t// caching the current x\r\n\t\t\t\t\tcachedX = currX = pointer.pageX;\r\n\t\t\t\t\t// caching the current y\r\n\t\t\t\t\tcachedY = currY = pointer.pageY;\r\n\r\n\t\t\t\t\tlongtapTimer = setTimeout(function() {\r\n\t\t\t\t\t\tsendEvent(e.target, 'longtap', e);\r\n\t\t\t\t\t\ttarget = e.target\r\n\t\t\t\t\t}, defaults.longtapThreshold);\r\n\r\n\t\t\t\t\t// we will use these variables on the touchend events\r\n\t\t\t\t\ttimestamp = getTimestamp();\r\n\r\n\t\t\t\t\ttapNum++\r\n\r\n\t\t\t\t},\r\n\t\t\t\tonTouchEnd = function(e) {\r\n\t\t\t\t\tif (!isTheSameFingerId(e) || isMultipleTouches(e)) return;\r\n\r\n\t\t\t\t\tpointerId = undefined;\r\n\r\n\t\t\t\t\t// skip the mouse events if previously a touch event was dispatched\r\n\t\t\t\t\t// and reset the touch flag\r\n\t\t\t\t\tif (e.type === 'mouseup' && wasTouch) {\r\n\t\t\t\t\t\twasTouch = false;\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet\r\n\t\t\t\t\t\teventsArr = [],\r\n\t\t\t\t\t\tnow = getTimestamp(),\r\n\t\t\t\t\t\tdeltaY = cachedY - currY,\r\n\t\t\t\t\t\tdeltaX = cachedX - currX\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\t\t// clear the previous timer if it was set\r\n\t\t\t\t\tclearTimeout(dblTapTimer);\r\n\t\t\t\t\t// kill the long tap timer\r\n\t\t\t\t\tclearTimeout(longtapTimer);\r\n\r\n\t\t\t\t\tif (deltaX <= -defaults.swipeThreshold) eventsArr.push('swipeRight');\r\n\r\n\t\t\t\t\tif (deltaX >= defaults.swipeThreshold) eventsArr.push('swipeLeft');\r\n\r\n\t\t\t\t\tif (deltaY <= -defaults.swipeThreshold) eventsArr.push('swipeDown');\r\n\r\n\t\t\t\t\tif (deltaY >= defaults.swipeThreshold) eventsArr.push('swipeUp');\r\n\r\n\t\t\t\t\tif (eventsArr.length) {\r\n\t\t\t\t\t\tfor (let i = 0; i < eventsArr.length; i++) {\r\n\t\t\t\t\t\t\tlet eventName = eventsArr[i];\r\n\t\t\t\t\t\t\tsendEvent(e.target, eventName, e, {\r\n\t\t\t\t\t\t\t\tdistance: {\r\n\t\t\t\t\t\t\t\t\tx: Math.abs(deltaX),\r\n\t\t\t\t\t\t\t\t\ty: Math.abs(deltaY)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// reset the tap counter\r\n\t\t\t\t\t\ttapNum = 0\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tcachedX >= currX - defaults.tapPrecision &&\r\n\t\t\t\t\t\t\tcachedX <= currX + defaults.tapPrecision &&\r\n\t\t\t\t\t\t\tcachedY >= currY - defaults.tapPrecision &&\r\n\t\t\t\t\t\t\tcachedY <= currY + defaults.tapPrecision\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tif (timestamp + defaults.tapThreshold - now >= 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t// Here you get the Tap event\r\n\t\t\t\t\t\t\t\tsendEvent(e.target, tapNum >= 2 && target === e.target ? 'dbltap' : 'tap', e);\r\n\t\t\t\t\t\t\t\ttarget= e.target\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// reset the tap counter\r\n\t\t\t\t\t\tdblTapTimer = setTimeout(function() {\r\n\t\t\t\t\t\t\ttapNum = 0\r\n\t\t\t\t\t\t}, defaults.dbltapThreshold)\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonTouchMove = function(e) {\r\n\t\t\t\t\tif (!isTheSameFingerId(e)) return;\r\n\t\t\t\t\t// skip the mouse move events if the touch events were previously detected\r\n\t\t\t\t\tif (e.type === 'mousemove' && wasTouch) return;\r\n\r\n\t\t\t\t\tlet pointer = getPointerEvent(e);\r\n\t\t\t\t\tcurrX = pointer.pageX;\r\n\t\t\t\t\tcurrY = pointer.pageY;\r\n\t\t\t\t};\r\n\r\n\t\t\tsetListener(document, touchEvents.touchstart + (defaults.justTouchEvents ? '' : ' mousedown'), onTouchStart);\r\n\t\t\tsetListener(document, touchEvents.touchend + (defaults.justTouchEvents ? '' : ' mouseup'), onTouchEnd);\r\n\t\t\tsetListener(document, touchEvents.touchmove + (defaults.justTouchEvents ? '' : ' mousemove'), onTouchMove);\r\n\r\n\t\t\treturn function(options) {\r\n\t\t\t\tfor (let opt in options) {\r\n\t\t\t\t\tif (options.hasOwnProperty(opt)) {\r\n\t\t\t\t\t\tdefaults[opt] = options[opt]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn defaults\r\n\t\t\t}\r\n\t\t})()\r\n\t;\r\n\r\n\tlet resizeTimout;\r\n\r\n\tlocalAPIs.add = function(types, target, callback, options = {}) {\r\n\r\n\t\tconst defaults = {once: false};\r\n\r\n\t\tprocessEventTypes(types, type => {\r\n\t\t\tif (!needToExcludeEventByDevice(type)) {\r\n\t\t\t\t$dom.callAll(target, element => {\r\n\t\t\t\t\telement.addEventListener(type, callback, Object.assign(defaults, options))\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn this;\r\n\t};\r\n\r\n\tlocalAPIs.remove = function(types, target, callback) {\r\n\t\tprocessEventTypes(types, type => {\r\n\t\t\t$dom.callAll(target, element => element.removeEventListener(type, callback))\r\n\t\t});\r\n\r\n\t\treturn this;\r\n\t};\r\n\r\n\tlocalAPIs.emit = function (type, detail = {}, element = window,) {\r\n\t\tif (!type) return;\r\n\r\n\t\tconst event = new CustomEvent(type, {\r\n\t\t\tbubbles: true,\r\n\t\t\tcancelable: true,\r\n\t\t\tdetail\r\n\t\t});\r\n\r\n\t\telement.dispatchEvent(event);\r\n\r\n\t\treturn this;\r\n\t};\r\n\r\n\tlocalAPIs.debounce = function (targetFunction) {\r\n\r\n\t\tlet timeout;\r\n\r\n\t\treturn function () {\r\n\t\t\tlet\r\n\t\t\t\tcontext = this,\r\n\t\t\t\targs = arguments\r\n\t\t\t;\r\n\r\n\t\t\tif (timeout) window.cancelAnimationFrame(timeout);\r\n\r\n\t\t\ttimeout = window.requestAnimationFrame(() => targetFunction.apply(context, args));\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tlocalAPIs.delegate = {\r\n\t\tprocessedEvents: {},\r\n\r\n\t\tisBubbleEvent: type => {\r\n\t\t\treturn ![\r\n\t\t\t\t'blur',\r\n\t\t\t\t'error',\r\n\t\t\t\t'focus',\r\n\t\t\t\t'mouseenter',\r\n\t\t\t\t'mouseleave',\r\n\t\t\t\t'scroll'\r\n\t\t\t].includes(type)\r\n\t\t},\r\n\t\texceptionElement: selector => {\r\n\t\t\treturn [\r\n\t\t\t\t'*',\r\n\t\t\t\t'window',\r\n\t\t\t\t'document',\r\n\t\t\t\t'document.documentElement',\r\n\t\t\t\twindow,\r\n\t\t\t\tdocument,\r\n\t\t\t\tdocument.documentElement\r\n\t\t\t].indexOf(selector) > -1\r\n\t\t},\r\n\t\tshouldDelegateRun(target, selector) {\r\n\r\n\t\t\tif (this.exceptionElement(selector)) return true;\r\n\r\n\t\t\tif (typeof selector !== 'string' && isElement(selector) && selector.contains) {\r\n\t\t\t\treturn selector === target || selector.contains(target);\r\n\t\t\t}\r\n\r\n\t\t\treturn isElement(target) ? target.closest(selector) : false;\r\n\t\t},\r\n\t\teventDelegateHandler(event) {\r\n\r\n\t\t\tconst {target, type} = event;\r\n\r\n\t\t\tif (!this.processedEvents[type] || needToExcludeEventByDevice(type)) return;\r\n\r\n\r\n\t\t\tthis.processedEvents[type].forEach(listener => {\r\n\r\n\t\t\t\tconst {selector, callback} = listener;\r\n\r\n\t\t\t\tif (!this.shouldDelegateRun(target, selector, type)) return;\r\n\r\n\t\t\t\tlet returned = null;\r\n\t\t\t\tif (this.exceptionElement(selector)) {\r\n\t\t\t\t\tif (selector === '*') {\r\n\t\t\t\t\t\treturned = $dom.getAll('*')\r\n\t\t\t\t\t} else if (selector === 'document' || selector === document) {\r\n\t\t\t\t\t\treturned = document\r\n\t\t\t\t\t} else if (selector === 'window' || selector === window) {\r\n\t\t\t\t\t\treturned = window\r\n\t\t\t\t\t} else if (selector === 'html' || selector === document.documentElement || selector === 'document.documentElement') {\r\n\t\t\t\t\t\treturned = document.documentElement\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturned = isElement(selector) ? selector : target.closest(selector);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcallback.call(returned, event);\r\n\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetDelegateEventIndex(arr, selector, callback) {\r\n\t\t\tfor (let i = 0; i < arr.length; i++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tarr[i].selector === selector &&\r\n\t\t\t\t\tarr[i].callback.toString() === callback.toString()\r\n\t\t\t\t) return i;\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t},\r\n\t\tprocessEventSetup(type, selector, callback) {\r\n\r\n\t\t\tif (!needToExcludeEventByDevice(type)) {\r\n\t\t\t\tif (!this.processedEvents[type]) {\r\n\t\t\t\t\tthis.processedEvents[type] = [];\r\n\t\t\t\t\twindow.addEventListener(type, this.eventDelegateHandler.bind(this), true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.processedEvents[type].push({selector,\tcallback});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\ton(types, selector, callback) {\r\n\t\t\tprocessEventTypes(types, type => {\r\n\t\t\t\tif (this.isBubbleEvent(type)) {\r\n\t\t\t\t\tthis.processEventSetup(type, selector, callback)\r\n\t\t\t\t} else {\r\n\t\t\t\t\twarn(`Warning! Event type \"${type}\" cannot be delegated! Please use the \"add\" method to not receive this notification. Method \"add\" was used automatically`, '$events-helper, delegate.on');\r\n\t\t\t\t\tlocalAPIs.add(type, selector, callback)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn this\r\n\t\t},\r\n\t\toff(types, selector, callback) {\r\n\t\t\tprocessEventTypes(types, type => {\r\n\t\t\t\tif (!this.processedEvents[type]) return;\r\n\r\n\t\t\t\tif (this.processedEvents[type].length < 2 || !selector) {\r\n\t\t\t\t\tdelete this.processedEvents[type];\r\n\t\t\t\t\twindow.removeEventListener(type, this.eventDelegateHandler.bind(this), true);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst eventIndex = this.getDelegateEventIndex(this.processedEvents[type], selector, callback);\r\n\r\n\t\t\t\tif (eventIndex < 0) return;\r\n\t\t\t\tthis.processedEvents[type].splice(eventIndex, 1);\r\n\t\t\t});\r\n\t\t\treturn this\r\n\t\t},\r\n\t\tonce(types, selector, callback) {\r\n\t\t\tlocalAPIs.delegate.on(types, selector, function temp (event) {\r\n\r\n\t\t\t\tconst {target} = event;\r\n\r\n\t\t\t\tlet returnedSelf = isElement(selector) ? selector : target.closest(selector);\r\n\r\n\t\t\t\tcallback.call(returnedSelf, event, returnedSelf);\r\n\r\n\t\t\t\tlocalAPIs.delegate.off(types, selector, temp);\r\n\t\t\t});\r\n\r\n\t\t\treturn this\r\n\t\t},\r\n\t\tget list() {\r\n\t\t\tlet obj = {};\r\n\r\n\t\t\tfor (let type in this.processedEvents) {\r\n\t\t\t\tif (this.processedEvents.hasOwnProperty(type)) {\r\n\t\t\t\t\tobj[type] = this.processedEvents[type];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn obj;\r\n\t\t}\r\n\t};\r\n\r\n\tlocalAPIs.delegate.on(is.mobile() ? 'orientationchange' : 'resize', window, event => {\r\n\r\n\t\tclearTimeout(resizeTimout);\r\n\r\n\t\tresizeTimout = setTimeout(() => {\r\n\t\t\tlocalAPIs.emit(variables.customEventNames.resize, {\r\n\t\t\t\toriginalEvent: event\r\n\t\t\t}, document.body)\r\n\t\t}, variables.resizeDebounce);\r\n\r\n\t});\r\n\r\n\tlocalAPIs.resize = (action, callback) => {\r\n\t\taction = action.trim();\r\n\t\tif (action === 'on' || action === 'off') {\r\n\t\t\tlocalAPIs.delegate[action](variables.customEventNames.resize, document.body, callback)\r\n\t\t} else {\r\n\t\t\twarn('Action for resize-callback not specified or specified incorrectly', '$events-helper')\r\n\t\t}\r\n\t};\r\n\r\n\tlocalAPIs.touchConfigure = createTouch;\r\n\r\n\treturn localAPIs\r\n\r\n})();\r\n","import {$dom} from \"./dom\";\r\nimport {$events} from \"./events\";\r\nimport variables from \"../variables\";\r\nimport is from 'is_js';\r\nimport {$data} from \"./data\";\r\nimport {optimizeTarget, filterStringArgs, toDashesCase, cssPropertyToCamelCase} from './_utilities';\r\n\r\nexport const $style = (function () {\r\n\r\n\tconst\r\n\t\tlocalAPIs = {},\r\n\t\t{callAll, get} = $dom\r\n\t;\r\n\r\n\tlocalAPIs.get = function (element, property = undefined, clean = false) {\r\n\r\n\t\tif (!Boolean(element)) return;\r\n\r\n\t\tif (is.string(element)) element = get(element);\r\n\r\n\t\tconst styles = getComputedStyle(element);\r\n\r\n\t\tif (is.undefined(property)) return styles;\r\n\r\n\t\treturn clean? parseFloat(styles[property]) : styles[property]\r\n\t};\r\n\r\n\tlocalAPIs.set = function (target, property, value = null) {\r\n\r\n\t\tcallAll(target, el => {\r\n\t\t\tif (is.object(property)) {\r\n\t\t\t\tfor (let [key, value] of Object.entries(property)) el.style[key] = value\r\n\t\t\t} else if(is.string(property) && is.string(value)) {\r\n\t\t\t\tel.style[cssPropertyToCamelCase(property)] = value\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\treturn optimizeTarget(target);\r\n\t};\r\n\r\n\tlocalAPIs.remove = function (target, property) {\r\n\r\n\t\tproperty = filterStringArgs(property);\r\n\r\n\t\tcallAll(target, el => {\r\n\t\t\t$dom.each(property, prop => {\r\n\t\t\t\tprop = toDashesCase(prop.trim());\r\n\t\t\t\tel.style.removeProperty(prop)\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t\treturn optimizeTarget(target)\r\n\t};\r\n\r\n\tlocalAPIs.offset = function (element, relativeTo = 'document') {\r\n\r\n\t\tif (is.string(element)) element = get(element);\r\n\r\n\t\tswitch (relativeTo) {\r\n\t\t\tcase 'document':\r\n\t\t\t\tlet\r\n\t\t\t\t\trect = element.getBoundingClientRect(),\r\n\t\t\t\t\tscrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\r\n\t\t\t\t\tscrollTop = window.pageYOffset || document.documentElement.scrollTop\r\n\t\t\t\t;\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tleft: rect.left + scrollLeft,\r\n\t\t\t\t\ttop: rect.top + scrollTop\r\n\t\t\t\t};\r\n\r\n\t\t\tcase 'parent':\r\n\t\t\t\treturn {\r\n\t\t\t\t\tleft: element.offsetLeft,\r\n\t\t\t\t\ttop: element.offsetTop\r\n\t\t\t\t};\r\n\t\t\tdefault:\r\n\t\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\treturn localAPIs;\r\n\r\n})(window);\r\n","import variables from \"../variables\";\r\nimport {warn} from \"./_utilities\";\r\nimport {$style} from \"./style\";\r\n\r\nexport const $ui = (function () {\r\n\r\n\tconst\r\n\t\tAPIs = {},\r\n\t\t{set, remove} = $style\r\n\t;\r\n\r\n\tAPIs.blockScroll = function (action) {\r\n\t\tswitch (action) {\r\n\t\t\tcase 'enable':\r\n\t\t\t\tconst sbw = variables.scrollbarWidth;\r\n\t\t\t\tset(document.body, {\r\n\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\tpaddingRight: sbw + 'px'\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'disable':\r\n\t\t\t\tremove(document.body, 'overflow, padding-right');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\twarn('Missing argument in blockScroll function', '$ui-helper')\r\n\t\t}\r\n\t};\r\n\r\n\r\n\treturn APIs;\r\n})(window);\r\n","import 'svgxuse';\r\nimport './helpers/_service';\r\nimport './modules/run';\r\nimport './modules/backend';\r\n","import {$dom} from '../helpers/dom';\r\nimport regularPage from '../pages/regular';\r\nimport homePage from \"../pages/home\";\r\nimport variables from '../variables';\r\nimport '../components/bootstrap';\r\n\r\n$dom.ready(function() {\r\n  this.currentPage = [\r\n    regularPage,\r\n    homePage\r\n  ].find(page => page.initialized);\r\n\r\n  if (Boolean(this.currentPage)) {\r\n    this.currentPage.variables = variables;\r\n    this.currentPage.init();\r\n  }\r\n});\r\n","import Page from '../classes/Page';\r\n\r\nconst homePage = new Page({\r\n  onCreate() {\r\n    // console.log('HomePage create')\r\n  },\r\n  onInit() {\r\n    // console.log('HomePage init')\r\n  },\r\n  onDestroy() {\r\n    // console.log('HomePage destroy')\r\n  },\r\n  name: 'home',\r\n  rootElementId: 'js-page-home'\r\n});\r\n\r\nexport default homePage;\r\n","import Page from '../classes/Page';\r\n\r\nconst regularPage = new Page({\r\n  name: 'regular',\r\n  rootElementId: 'js-page-regular'\r\n});\r\n\r\nexport default regularPage;\r\n","const variables = {\r\n\t$EXTERNAL_API_NAME: '$HELPERS',\r\n\tgsapDefaultDuration: .25,\r\n  carouselDefaultDuration: 800,\r\n\tresizeDebounce: 100,\r\n  globalSettingsAttrName: 'paths',\r\n\tdebugLogs: true,\r\n\tdebugLogsDisabledNotify: true,\r\n\tcustomEventNames: {\r\n\t\tresize: 'resize-done',\r\n    selectDropdownSelected: 'select-dropdown-selected'\r\n\t},\r\n  classNames: {\r\n    disabled: 'is-disabled',\r\n    hover: 'is-hover',\r\n    active: 'is-active',\r\n    involved: 'is-involved',\r\n    lazyLoading: 'is-loading',\r\n    lazyPreloader: 'lazy__preloader',\r\n    lazyImage: 'lazy__image',\r\n    lazyLoaded: 'is-loaded',\r\n    fixed: 'is-fixed',\r\n    focused: 'is-focused',\r\n    filled: 'is-filled',\r\n    invalid: 'is-invalid',\r\n    error: 'is-error',\r\n    selected: 'is-selected'\r\n  },\r\n  formValidationMessages: {\r\n    invalid         : 'Некорректное значение',\r\n    short           : 'input is too short',\r\n    long            : 'input is too long',\r\n    checked         : 'Должно быть отмечено',\r\n    empty           : 'Пожалуйста, заполните это поле',\r\n    select          : 'Please select an option',\r\n    number_min      : 'too low',\r\n    number_max      : 'too high',\r\n    url             : 'invalid URL',\r\n    number          : 'not a number',\r\n    email           : 'Некорректный e-mail',\r\n    email_repeat    : 'emails do not match',\r\n    date            : 'invalid date',\r\n    time            : 'invalid time',\r\n    password_repeat : 'Пароли не совпадают',\r\n    no_match        : 'no match',\r\n    complete        : 'Ввод не завершён'\r\n  },\r\n\tget windowWidth() {\r\n\t\treturn window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth\r\n\t},\r\n\tget windowHeight() {\r\n\t\treturn window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\r\n\t},\r\n\tscrollbarWidth:\twindow.innerWidth - document.documentElement.clientWidth,\r\n\tbreakpoints: {\r\n    m: 375,\r\n    sm: 576,\r\n    md: 768,\r\n    lg: 992,\r\n    xl: 1200,\r\n    xxl: 1400\r\n\t},\r\n  dom: {\r\n    header: document.getElementById('js-header'),\r\n    wrapper: document.getElementById('js-page-wrapper'),\r\n    footer: document.getElementById('js-footer'),\r\n    menu: document.getElementById('siteMenu')\r\n  },\r\n  messages: {\r\n\t  lazyError: 'Ошибка загрузки изображения'\r\n  }\r\n};\r\n\r\nexport default variables;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgulp4template\"] = self[\"webpackChunkgulp4template\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors\"], () => (__webpack_require__(\"./src/js/main.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["merge","$data","exist","$dom","Component","options","defaults","requiredSelector","is","undefined","initialized","Model","onCreate","onInit","onDestroy","name","rootElementId","debug","rootElement","rootEl","checkAndRunCallback","el","document","getElementById","string","Boolean","cb","call","destroy","init","globalSettingsAttrName","variables","Page","not","domNode","resizeMethods","dataset","JSON","parse","removeAttribute","addComponent","lazyLoad","formValidation","modal","toasts","selectDropdown","fixedHeader","siteMenu","smartScroll","procedureSlider","plansSlider","siteScrollProgressBar","siteSearch","fn","initialArgs","component","action","components","key","method","$events","resize","map","target","processResizeMethod","fnName","resizeDependentMethods","find","obj","hasOwnProperty","processed","filter","m","processComponents","BootstrapOffcanvas","Offcanvas","Collapse","Dropdown","Modal","header","dom","hasClass","addClass","removeClass","headerHideClassName","headerPaintClassName","rootSelector","lastScroll","defaultOffset","handleScroll","scrollPosition","window","pageYOffset","documentElement","scrollTop","add","remove","callAll","attr","get","formValidationMessages","formSelector","formGroupSelector","formFieldSelector","notifyClassName","needValidateClassName","validator","FormValidator","classes","item","replace","bad","classNames","invalid","alert","texts","checkField","formGroup","Event","closest","field","valid","error","handleForm","event","form","preventDefault","checkAll","delegate","on","off","lazyLoaded","threshold","errorAttr","wrapperSelector","elements_selector","loaderSelector","lazyInstance","LazyLoad","class_loaded","class_error","data_src","data_bg","callback_loaded","wrapper","preloader","callback_error","messages","lazyError","style","opacity","bootstrapComponents","modalSelector","$Page","modals","modalIsCashed","modalId","checkElementExist","id","open","elem","show","close","_","hide","notify","modalEl","addListeners","removeListeners","Function","prototype","append","createElement","text","createElementFromString","opts","embedPoint","body","closeText","closeIcon","currentModal","p","title","tag","attrs","content","description","markup","createTemplate","payload","checkContent","isMustToShown","templates","dialog","images","empty","removeTemplate","ariaHidden","type","dataBsDismiss","ariaLabel","iconPath","iconName","swiper","Swiper","modules","Navigation","Pagination","Scrollbar","direction","loop","navigation","nextEl","prevEl","breakpoints","slidesPerView","autoHeight","simulateTouch","getAll","html","buttonSelector","menuSelector","selectedOutputSelector","optionSelector","outputSelector","valueAttr","selectedState","selected","checkOptions","root","button","buttonContent","output","selectedOption","option","val","value","emit","customEventNames","selectDropdownSelected","handleClick","opt","handleToggle","focused","menu","offcanvasMenu","getOrCreateInstance","burgerButtonElement","burgerButtonClass","lastAnchor","hideMenuTimeout","hideMenuHandler","href","section","yScrollDistance","scrollY","getBoundingClientRect","top","setTimeout","scrollTo","behavior","clearTimeout","clickHandler","menuLink","openMenuHundler","set","$style","htmlElement","progressbar","siteScrollHandler","documentScroll","documentHeight","scrollHeight","clientHeight","currentScroll","searchElement","activeClass","buttonSubmitSelector","buttonCloseSelector","buttonType","submitButton","closeButton","buttonTypeSwapper","each","headerLinkActiveClassName","linkDomElements","sectionDomElements","lastId","scrollHandler","scrollDistance","currentItem","offsetTop","length","currentId","element","filteredLinks","factory","module","exports","Toastify","global","lib","rootClassName","activeClassName","active","adaptiveBreakpoint","oldestFirst","node","duration","selector","onDismiss","destination","newWindow","gravity","position","icon","className","stopOnFocus","onClick","offset","x","y","escapeMarkup","background","breakpoint","constructor","toastElement","backgroundColor","buildToast","divElement","property","appendChild","innerText","innerHTML","iconElement","src","classList","insertAdjacentElement","closeElement","addEventListener","stopPropagation","removeElement","timeOutValue","bind","width","innerWidth","screen","self","location","object","getAxisOffsetAValue","xOffset","yOffset","transform","showToast","querySelector","HTMLElement","ShadowRoot","elementToInsert","firstChild","lastChild","insertBefore","reposition","hideToast","parentNode","removeChild","topLeftOffsetSize","bottom","topRightOffsetSize","offsetSize","allToasts","getElementsByClassName","classUsed","i","containsClass","height","offsetHeight","substr","toastsBetweenOffset","axis","isNaN","yourClass","trim","split","indexOf","settings","pluginOptions","icons","success","warning","info","danger","status","APIName","$EXTERNAL_API_NAME","$ui","forEach","warn","message","locationName","debugLogs","console","debugLogsDisabledNotify","toDashesCase","toLowerCase","isElement","nodeType","nodeName","isNode","Node","filterStringArgs","targets","toString","e","optimizeTarget","array","originalEvent","sleep","ms","tm","Promise","resolve","then","arr","getRandomInt","min","max","Math","ceil","floor","random","replaceAll","str","RegExp","cssPropertyToCamelCase","_all","letter","toUpperCase","generateId","usePostfix","postfix","addZero","slice","forIn","localAPIs","cloneObject","stringify","defineContext","context","doWithClass","doWithInnerContent","results","setMode","newContent","push","resultKey","resultMethod","doWithInsert","insertTarget","insertTargetElement","nextSibling","doWithAppend","childNodes","Array","querySelectorAll","collection","callback","l","contains","toggleClass","getParent","matches","parentElement","getAttribute","setAttribute","Object","entries","newHtml","newText","tagName","isSVG","createElementNS","div","newElement","replaceChild","wrap","wrapperElement","insertAfter","appendTarget","prepend","prependTarget","clone","cloneNode","ready","readyState","once","elToBool","t","every","isTouch","touchDevice","mouseEvents","touchEvents","processEventTypes","types","needToExcludeEventByDevice","includes","createTouch","createEvent","swipeThreshold","tapThreshold","dbltapThreshold","longtapThreshold","tapPrecision","pointerEvent","lo","navigator","msPointerEnabled","PointerEvent","touchEvent","wasTouch","tapNum","pointerId","currX","currY","cachedX","cachedY","timestamp","dblTapTimer","longtapTimer","touchstart","touchend","touchmove","isTheSameFingerId","setListener","elm","events","eventsArray","getPointerEvent","hasTargetTouches","targetTouches","touches","pageX","isMultipleTouches","getTimestamp","Date","getTime","sendEvent","eventName","data","customEvent","initEvent","dispatchEvent","onTouchStart","pointer","pageY","onTouchEnd","eventsArr","now","deltaY","deltaX","distance","abs","onTouchMove","justTouchEvents","resizeTimout","assign","removeEventListener","detail","CustomEvent","bubbles","cancelable","debounce","targetFunction","timeout","args","arguments","cancelAnimationFrame","requestAnimationFrame","apply","processedEvents","isBubbleEvent","exceptionElement","shouldDelegateRun","eventDelegateHandler","listener","returned","getDelegateEventIndex","processEventSetup","eventIndex","splice","temp","returnedSelf","list","mobile","resizeDebounce","touchConfigure","clean","styles","getComputedStyle","parseFloat","prop","removeProperty","relativeTo","rect","scrollLeft","pageXOffset","left","offsetLeft","APIs","blockScroll","sbw","scrollbarWidth","overflow","paddingRight","currentPage","regularPage","homePage","page","gsapDefaultDuration","carouselDefaultDuration","disabled","hover","involved","lazyLoading","lazyPreloader","lazyImage","fixed","filled","checked","select","number_min","number_max","url","number","email","email_repeat","date","time","password_repeat","no_match","complete","windowWidth","clientWidth","windowHeight","innerHeight","sm","md","lg","xl","xxl","footer"],"sourceRoot":""}